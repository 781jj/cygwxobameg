var shareConfig = {
  title: "Run fast, faster, or you will be eaten by the bear."
};


function rtalt() {
    0 == window.orientation && (-1 == navigator.userAgent.indexOf("Android") || 425 > window.innerHeight && 2 > window.devicePixelRatio) && setTimeout(scrollTo, 100, 0, 1)
}

function didShare(a, b) {
    var f = new Date;
    f.setDate(f.getDate() + 730);
    switch (Math.floor(a)) {
        case 1:
            document.cookie = "st_kma_tip=1; expires=" + f.toGMTString();
            tipon = gtips = 1;
            break;
        case 2:
            document.cookie = "st_kma_run=2; expires=" + f.toGMTString();
            gmsts = 2;
            break;
        case 3:
            document.cookie = "st_kma_run=3; expires=" + f.toGMTString(), gmsts = 3
    }
}

function lcir(a, b) {
    for (var f = 0, e = 0, g = 0, f = 0; 12 > f; f++) e = ldri + f, 12 < e && (e -= 12), ctx.beginPath(), ctx.lineWidth = 2, ctx.strokeStyle = "#FFFFFF", ctx.globalAlpha = e / 10, ctx.moveTo(a + 8 * Math.cos(g), b + 8 * Math.sin(g)), ctx.lineTo(a + 15 * Math.cos(g), b + 15 * Math.sin(g)), ctx.stroke(), g += 0.5225;
    ctx.globalAlpha = 1;
    ldri--;
    1 > ldri && (ldri = 12)
}

function lding() {
    ctx.clearRect(0, 0, 320, 568);
    ctx.globalAlpha = 0.6;
    ctx.fillStyle = "#000";
    ctx.fillRect(0, 0, 320, 568);
    ctx.globalAlpha = 1;
    lcir(160, 292)
}
onload = function() {
    ldri = 0;
    ldlp = setInterval("lding();", 50);
    init();
    setTimeout(scrollTo, 400, 0, 1)
};

function srt(a, b) {
    a.sort(function(a, e) {
        return a[b] - e[b]
    });
    return a
}

function ralp2() {
    lps += ranlp;
    1 < lps && 1 == alp && (lps--, lp())
}

function ralp() {
    ralp2();
    window.requestAnimationFrame(ralp)
}

function gst(e) {
    clearInterval(ldlp);
    ctx.clearRect(0, 0, 320, 568);
    spt2(127, 56, 272);
    setTimeout(scrollTo, 200, 0, 1);
    s = 0;

}

function gsts() {
    gldt++;
    3 < gldt && setTimeout("gst();", 120)
}

function asd2() {
    document.getElementById("bspc").innerHTML = null;
    document.getElementById("bspc").style.display = "none"
}

function asd() {
    var a = 1 / window.devicePixelRatio,
        b = document.createElement("meta"),
        a = Math.floor(screen.width / 3.2) / 100 * a;
    b.setAttribute("name", "viewport");
    b.setAttribute("content", "width = device-width, initial-scale = " + a + ", minimum-scale = " + a + ", maximum-scale = " + a);
    // document.getElementsByTagName("head")[0].appendChild(b);
    setTimeout("asd2", 300)
}

function scs(a, b, f) {
    a = String(a);
    var e = a.length - 1;
    switch (b) {
        case 1:
            for (scx = 0; scx <= e; scx++) b = Math.floor(a.substr(scx, 1)), spt2(68 + b, scrux[4 - e + scx], f)
    }
}

function scs2(a, b, f) {
    a = ("0000000000" + f).substr(-9, 9);
    for (scx = 0; scx < b; scx++) f = Math.floor(a.substr(9 - scx - 1, 1)), spt2(130 + f, 216 - 21 * scx, 118)
}

function spt(a, b, f, e, g) {
    var h = iw[a],
        c = ih[a],
        n = h * e;
    e *= c;
    ctx.drawImage(img7, ix[a], iy[a], h, c, b - n / 2 | 0, f - e * g | 0, n | 0, e | 0)
}

function spt5(a, b, f, e, g) {
    var h = iw[a],
        c = ih[a],
        n = h * e;
    e *= c * e;
    ctx.drawImage(img7, ix[a], iy[a], h, c, b - n / 2 | 0, f - e * g | 0, n | 0, e | 0)
}

function spt2(a, b, f) {
    var e = iw[a],
        g = ih[a];
    ctx.drawImage(img7, ix[a], iy[a], e, g, b | 0, f | 0, e, g)
}

function spt3(a, b, f, e, g) {
    var h = iw[a],
        c = ih[a];
    e *= h;
    g *= c;
    ctx.drawImage(img7, ix[a], iy[a], h, c, b - e / 2 | 0, f - g | 0, e | 0, g | 0)
}

function spt4(a, b, f, e, g) {
    ctx.drawImage(img7, ix[a], iy[a], iw[a], ih[a], b, f, e, g)
}

function init() {
    s = -1;
    var a;
    a = navigator.userAgent;
    dvid = 0; - 1 < a.indexOf("Android") && (dvid = 1, 4 <= Math.floor(navigator.userAgent.substr(a.indexOf("Android") + 8, 1)) && (dvid = 2)); - 1 < a.indexOf("iPad") && (dvid = 3); - 1 < a.indexOf("iPhone") && (dvid = 4, 2 <= window.devicePixelRatio && (dvid = 5, 568 == window.screen.height && (dvid = 5)));
    wdpr = 1;
    switch (dvid) {
        case 1:
            gc = 0;
            a = 1 / window.devicePixelRatio;
            var b = document.createElement("meta");
            b.setAttribute("name", "viewport");
            b.setAttribute("content", "width = device-width, initial-scale = " +
                a + ", minimum-scale = " + a + ", maximum-scale = " + a);
            //document.getElementsByTagName("head")[0].appendChild(b);
            setTimeout("asd()", 50);
            break;
        case 2:
            gc = 1;
            a = 1 / window.devicePixelRatio;
            b = document.createElement("meta");
            b.setAttribute("name", "viewport");
            b.setAttribute("content", "width = device-width, initial-scale = " + a + ", minimum-scale = " + a + ", maximum-scale = " + a);
            //document.getElementsByTagName("head")[0].appendChild(b);
            a = Math.floor(screen.width / 3.2) / 100;
            document.body.clientWidth > screen.width && (a = Math.floor(document.body.clientWidth /
                3.2) / 100);
           // document.body.style.webkitTransformOrigin = "0 0 0";
            //document.body.style.webkitTransform = "scale3d(" + a + "," + a + ",1)";
            wdpr = a;
            break;
        case 3:
            gc = 1;
            a = 2;
            //document.body.style.webkitTransformOrigin = "0 0 0";
            //document.body.style.webkitTransform = "scale3d(" + a + "," + a + ",1)";
            wdpr = a;
            break;
        case 4:
            gc = 0;
            break;
        case 5:
            gc = 1;
            a = 0.5;
            b = document.createElement("meta");
            b.setAttribute("name", "viewport");
            b.setAttribute("content", "width = device-width, initial-scale = " + a + ", minimum-scale = " + a + ", maximum-scale = " + a);
            //document.getElementsByTagName("head")[0].appendChild(b);
            a = 2;
            //document.body.style.webkitTransformOrigin = "0 0 0";
            //document.body.style.webkitTransform = "scale3d(" + a + "," + a + ",1)";
            wdpr = a;
            break;
        case 6:
            gc = 1
    }
    chf2.innerHTML = '<canvas id="gcvs" width="320" height="568"></canvas>';
    canvas = document.getElementById("gcvs");
    ctx = canvas.getContext("2d");
    ctx.globalAlpha = 0.6;
    ctx.fillStyle = "#000";
    ctx.fillRect(0, 0, 320, 568);
    document.addEventListener("touchstart", tev1, !1);
    document.addEventListener("touchend", tev2, !1);
    document.addEventListener("touchmove", tev3, !1);
    document.addEventListener("touchcancel",
        tev4, !1);
    document.addEventListener("gesturestart", tev4, !1);
    document.addEventListener("gesturechange", tev4, !1);
    document.addEventListener("gestureend", tev4, !1);
    document.addEventListener("mousedown", tev11, !1);
    document.addEventListener("mouseup", tev22, !1);
    document.addEventListener("mousemove", tev33, !1);


    document.addEventListener("touchend", jump, !1);
    gldt = 0;
    a = navigator.language; - 1 < document.URL.indexOf("page") ? (a = ["title_3d_nolink.jpg", "cs_3d_bg.jpg", "end_3d_nolink.jpg", "cs_3d_en.png"], canvas.style.backgroundImage = "url(3D_running_bear_files/title_3d_nolink.jpg)", shms1 =
        "Browser game[Look Bear,Run!] SCORE=", shms2 = "Browser game[Look Bear,Run!]", shms3 = "Why don't you get useful tips by sharing this game to your friends?", shms4 = "Why don't you get useful items by sharing this game to your friends?") : -1 < a.indexOf("ja") ? (a = ["title_3d.jpg", "cs_3d_bg.jpg", "end_3d.jpg", "cs_3d.png"], canvas.style.backgroundImage = "url(3D_running_bear_files/title_3d.jpg)", shms1 = "�����ɗV�ׂ�u���E�U�Q�[���u����I���܃����v SCORE=", shms2 = "�����ɗV�ׂ�u���E�U�Q�[���u����I���܃����v", shms3 = "�F�B�Ƃ��̃Q�[�����V�F�A���āA�\ud81e\uddc2�TIPS���Q�b�g���悤�I",
        shms4 = "�F�B�Ƃ��̃Q�[�����V�F�A���āA�A�C�e�����Q�b�g���悤�I") : (a = ["title_3d_en.jpg", "cs_3d_bg.jpg", "end_3d_en.jpg", "cs_3d_en.png"], canvas.style.backgroundImage = "url(3D_running_bear_files/title_3d_en.jpg)", shms1 = "Browser game[Look Bear,Run!] SCORE=", shms2 = "Browser game[Look Bear,Run!]", shms3 = "Why don't you get useful tips by sharing this game to your friends?", shms4 = "Why don't you get useful items by sharing this game to your friends?");
    img0 = new Image;
    img0.src = "3D_running_bear_files/" + a[0];
    img0.onload = function() {
        gsts()
    };
    img1 = new Image;
    img1.src = "3D_running_bear_files/" + a[1];
    img1.onload = function() {
        gsts()
    };
    img2 = new Image;
    img2.src = "3D_running_bear_files/" + a[2];
    img2.onload = function() {
        gsts()
    };
    img7 = new Image;
    img7.src = "3D_running_bear_files/" + a[3];
    img7.onload = function() {
        gsts()
    };
    stgbg = lps = 0;
    ix = [0, 0, 136, 272, 408, 544, 0, 48, 96, 144, 192, 240, 288, 343, 398, 453, 508, 563, 0, 56, 112, 168, 224, 0, 65, 130, 195, 260, 325, 336, 343, 336, 354, 372, 336, 354, 372, 304, 327, 350, 325, 280, 0, 0, 0, 618, 0, 76, 152, 228, 0, 0, 0, 564, 336, 345, 354, 363, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 548, 560, 572, 584, 596, 608, 620, 632, 644, 656, 668, 623, 564, 621, 731, 761, 791, 821, 731,
        761, 791, 0, 640, 0, 320, 735, 783, 839, 623, 304, 390, 0, 272, 680, 680, 680, 691, 691, 691, 691, 691, 691, 735, 735, 735, 735, 544, 503, 640, 640, 640, 640, 640, 640, 691, 801, 735, 0, 503, 691, 0, 0, 640, 661, 682, 703, 724, 745, 766, 787, 808, 829, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 850, 735, 835, 851
    ];
    iy = [0, 0, 0, 0, 0, 0, 177, 177, 177, 177, 177, 177, 177, 177, 177, 177, 177, 177, 372, 372, 372, 372, 372, 309, 309, 309, 309, 309, 309, 372, 372, 392, 392, 392, 410, 410, 410, 428, 428, 428, 309, 372, 0, 0, 0, 177, 428, 428, 428, 428, 0, 0, 0, 383, 382, 382, 382, 382, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 425, 425, 425, 425, 425, 425, 425, 425,
        425, 425, 425, 330, 309, 309, 332, 332, 332, 332, 371, 371, 371, 0, 883, 523, 523, 271, 271, 271, 401, 453, 309, 939, 939, 0, 110, 220, 470, 518, 566, 614, 662, 710, 171, 201, 231, 250, 939, 309, 456, 506, 556, 606, 656, 706, 758, 758, 100, 0, 425, 413, 0, 0, 853, 853, 853, 853, 853, 853, 853, 853, 853, 853, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 853, 0, 0, 332
    ];
    iw = [0, 136, 136, 136, 136, 136, 48, 48, 48, 48, 48, 48, 55, 55, 55, 55, 55, 55, 56, 56, 56, 56, 56, 65, 65, 65, 65, 65, 65, 7, 7, 18, 18, 18, 18, 18, 18, 23, 23, 23, 65, 56, 0, 0, 0, 55, 76, 76, 76, 76, 0, 0, 0, 45, 9, 9, 9, 9, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 11,
        108, 57, 46, 30, 30, 30, 30, 30, 30, 30, 0, 277, 320, 320, 48, 56, 54, 63, 310, 113, 272, 272, 55, 55, 55, 234, 234, 234, 234, 234, 234, 164, 153, 111, 178, 272, 61, 51, 51, 51, 51, 51, 51, 110, 110, 194, 0, 45, 202, 0, 0, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 77, 100, 32, 44
    ];
    ih = [0, 177, 177, 177, 177, 177, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 132, 56, 56, 56, 56, 56, 63, 63, 63, 63, 63, 63, 10, 10, 18, 18, 18, 18, 18, 18, 19, 19, 19, 63, 56, 0, 0, 0, 132, 95, 95, 95, 95, 0, 0, 0, 35, 9, 9, 9, 9, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 28, 71, 74, 19, 39, 39, 39, 39, 39, 39,
        39, 0, 56, 568, 568, 61, 61, 61, 24, 70, 139, 65, 65, 110, 110, 110, 48, 48, 48, 48, 48, 48, 30, 30, 19, 21, 65, 116, 50, 50, 50, 50, 50, 50, 95, 95, 71, 0, 13, 57, 0, 0, 30, 30, 30, 30, 30, 30, 30, 30, 30, 30, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 25, 100, 32, 44
    ];
    m = 10;
    w = Array(m);
    tx = Array(m);
    ty = Array(m);
    tt = Array(m);
    tf = Array(m);
    ta = Array(m);
    tl = Array(m);
    ts = Array(m);
    tj = Array(m);
    tjy = Array(m);
    trf = Array(m);
    usi = [];
    iszx = [56, 65];
    iszy = [56, 63];
    istx = [0, 280];
    isty = [177, 177];
    for (a = 0; a < m; a++) tx[a] = Math.floor(220 * Math.random()) + 50, ty[a] = 500, tt[a] = Math.floor(2 * Math.random()), ta[a] = 1, tf[a] =
        0, tl[a] = 0, ty[a] = 417, ts[a] = 12, 1 < a && usi.push(a), w["c" + a] = {
            i: a,
            y: 500
        };
    knmf = [18, 19, 20, 21, 22, 41];
    ary = Array(3);
    arw = Array(3);
    arh = Array(3);
    ara = Array(3);
    askb = 0;
    a = document.URL.substr(0, 19);
    for (var f = b = 0, b = 7; 19 > b; b++) f += a.charCodeAt(b);
    askb = 1;
    ary[0] = [-46, -53, -60, -68, -75, -82, -89, -96, -103, -103, -103, -103, -103, -103, -103, -103, -103, -103, -103];
    arw[0] = [1.41, 1.46, 1.51, 1.56, 1.61, 1.65, 1.7, 1.75, 1.8, 1.8, 1.8, 1.8, 1.8, 1.8, 1.8, 1.8, 1.8, 1.8, 1.8];
    arh[0] = [1.37, 1.43, 1.48, 1.53, 1.59, 1.64, 1.69, 1.75, 1.8, 1.8, 1.8, 1.8, 1.8, 1.8, 1.8, 1.8, 1.8,
        1.8, 1.8
    ];
    ara[0] = [0.89, 0.78, 0.67, 0.55, 0.45, 0.33, 0.22, 0.11, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
    ary[1] = [-10, -20, -31, -41, -51, -61, -72, -82, -92, -92, -92, -92, -92, -92, -92, -92, -92, -92, -92];
    arw[1] = [1.06, 1.12, 1.18, 1.24, 1.3, 1.36, 1.41, 1.47, 1.53, 1.53, 1.53, 1.53, 1.53, 1.53, 1.53, 1.53, 1.53, 1.53, 1.53];
    arh[1] = [1.06, 1.12, 1.18, 1.24, 1.3, 1.36, 1.41, 1.47, 1.53, 1.53, 1.53, 1.53, 1.53, 1.53, 1.53, 1.53, 1.53, 1.53, 1.53];
    ara[1] = [0.89, 0.78, 0.67, 0.55, 0.45, 0.33, 0.22, 0.11, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
    ary[2] = [-143, -151, -158, -165, -172, -180, -187, -194, -201, -201, -201, -201, -201, -201, -201, -201, -201, -201, -201];
    arw[2] = [2.75, 2.77, 2.8, 2.82, 2.84, 2.86, 2.88, 2.9, 2.92, 2.92, 2.92, 2.92, 2.92, 2.92, 2.92, 2.92, 2.92, 2.92, 2.92];
    arh[2] = [2.18, 2.16, 2.14, 2.12, 2.1, 2.08, 2.07, 2.05, 2.03, 2.03, 2.03, 2.03, 2.03, 2.03, 2.03, 2.03, 2.03, 2.03, 2.03];
    ara[2] = [0.89, 0.78, 0.67, 0.55, 0.45, 0.33, 0.22, 0.11, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
    ary[3] = [-83, -96, -109, -123, -136, -149, -163, -176, -189, -189, -189, -189, -189, -189, -189, -189, -189, -189, -189];
    arw[3] = [3.03, 3.19, 3.36, 3.52, 3.68, 3.84, 4.01, 4.17, 4.33, 4.33, 4.33, 4.33, 4.33, 4.33, 4.33,
        4.33, 4.33, 4.33, 4.33
    ];
    arh[3] = [1.55, 1.7, 1.85, 2, 2.16, 2.31, 2.46, 2.61, 2.77, 2.77, 2.77, 2.77, 2.77, 2.77, 2.77, 2.77, 2.77, 2.77, 2.77];
    ara[3] = [0.89, 0.78, 0.67, 0.55, 0.45, 0.33, 0.22, 0.11, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
    glv = [55, 55, 55, 50, 50, 45, 40, 35, 30, 55, 30, 20, 12, 11, 10, 9, 8, 20];
    gsp = [10, 10, 10, 11, 11, 11, 12, 13, 14, 11, 13, 14, 15, 16, 17, 17, 17, 12];
    gcl = [0, 0, 0, 200, 300, 450, 200, 200, 200, 400, 300, 300, 300, 500, 500, 600, 500, 999];
    gkk = [-99, -99, -99, -99, -99, -99, -99, -99, -99, 70, 40, 50, 60, 70, 80, 80, 80, -99];
    fani = Array(4);
    fani[0] = [0, 0, 0, 8, 19, 0, 0, -5, 0.33, 8, 14,
        0.33, 0, -10, 0.67, 8, 9, 0.67, 0, -15, 1, 8, 4, 1, 0, -13, 1, 8, 6, 1, 0, -11, 1, 8, 8, 1, 0, -10, 1, 8, 9, 1, 0, -10, 1, 8, 9, 1, 0, -10, 0.8, 8, 9, 0.8, 0, -10, 0.6, 8, 9, 0.6, 0, -10, 0.4, 8, 9, 0.4, 0, -10, 0.2, 8, 9, 0.2, 0, -10, 0, 8, 9, 0
    ];
    fani[1] = [0, 355, 0, 0, 351, 0.36, 0, 349, 0.64, 0, 347, 0.84, 0, 345, 0.96, 0, 345, 1, 0, 348, 1, 0, 355, 1, 0, 352, 1, 0, 351, 1, 0, 350, 1, 0, 353, 1, 0, 355, 1, 0, 355, 1, 0, 355, 1, 0, 355, 1, 0, 355, 1, 0, 355, 1, 0, 355, 1, 0, 351, 1, 0, 349, 1, 0, 347, 1, 0, 345, 1, 0, 345, 1, 0, 348, 1, 0, 355, 1, 0, 352, 1, 0, 351, 1, 0, 350, 1, 0, 353, 1, 0, 355, 1, 0, 355, 1, 0, 355, 1, 0, 355, 1, 0, 355, 1, 0, 355, 1, 0, 355, 0.88,
        0, 355, 0.75, 0, 355, 0.63, 0, 355, 0.5, 0, 355, 0.38, 0, 355, 0.25, 0, 355, 0.13, 0, 355, 0, 0, 355, 0
    ];
    fa_f = {};
    fani[2] = [19, -57, 1, 19, -54, 1, 19, -47, 1, 19, -34, 1, 19, -16, 1, 19, 7, 1, 19, 2, 1, 19, 0, 1, 19, 2, 1, 19, 3, 1, 19, 3, 1, 19, 3, 1, 19, 3, 1, 19, 3, 1, 19, 3, 1, 19, 3, 1, 19, 3, 1, 19, 3, 1, 19, 3, 1, 19, 3, 1, 19, 3, 1, 19, 3, 1, 19, 3, 1, 19, 3, 1, 19, 3, 1, 19, 3, 1, 19, 3, 1, 19, 3, 1, 19, 3, 1, 19, 3, 1, 19, 3, 1, 19, 3, 1, 19, 3, 1, 19, 3, 1, 19, 3, 1, 19, 3, 1, 19, 3, 1, 19, 3, 1, 19, 3, 1, 19, 3, 1, 19, 3, 1, 19, 3, 0.88, 19, 3, 0.75, 19, 3, 0.63, 19, 3, 0.5, 19, 3, 0.38, 19, 3, 0.25, 19, 3, 0.13, 19, 3, 0];
    fa_fi = 0;
    fani2 = [321, -56, 0, 104,
        125, -50, -56, 0, 104, 125, -58, -87, 0.7, 120, 148, 321, -56, 0, 104, 125, -51, -60, 0.1, 106, 129, -60, -92, 0.6, 122, 151, 321, -56, 0, 104, 125, -53, -65, 0.2, 108, 132, -61, -96, 0.5, 125, 155, 321, -56, 0, 104, 125, -54, -69, 0.3, 111, 135, -63, -101, 0.4, 127, 158, 321, -56, 0, 104, 125, -56, -74, 0.4, 113, 138, -65, -106, 0.3, 130, 161, 321, -56, 0, 104, 125, -57, -78, 0.5, 115, 142, -67, -111, 0.2, 132, 164, 321, -56, 0, 104, 125, -59, -83, 0.6, 118, 145, -68, -115, 0.1, 134, 168, -48, -56, 0, 104, 125, -60, -87, 0.7, 120, 148, -70, -120, 0, 137, 171, -49, -59, 0.08, 105, 128, -62, -91, 0.61, 122, 151, -70, -112,
        0, 137, 171, -50, -63, 0.16, 107, 130, -63, -95, 0.52, 124, 153, -70, -112, 0, 137, 171, -51, -67, 0.24, 109, 133, -65, -99, 0.44, 126, 156, -70, -112, 0, 137, 171, -52, -70, 0.32, 111, 136, -66, -103, 0.35, 128, 159, -70, -112, 0, 137, 171, -54, -74, 0.4, 113, 138, -68, -108, 0.26, 130, 161, -70, -112, 0, 137, 171, -55, -77, 0.48, 115, 141, -69, -112, 0.18, 132, 164, -70, -112, 0, 137, 171, -56, -81, 0.56, 117, 143, -71, -116, 0.09, 133, 166, -70, -112, 0, 137, 171, -57, -84, 0.64, 119, 146, -72, -120, 0, 135, 169, -70, -112, 0, 137, 171
    ];
    fanf2 = [47, 46, 47];
    fafi2 = 0;
    fani3 = [210, 30, 0, 210, 37, 0.44, 210, 41, 0.75,
        210, 44, 0.94, 210, 45, 1, 210, 43, 1, 210, 42, 1, 210, 43, 1, 210, 45, 1, 210, 45, 1, 210, 45, 1, 210, 45, 1, 210, 45, 1, 210, 45, 1, 210, 45, 1, 210, 45, 1, 210, 45, 1, 210, 45, 1, 210, 45, 1, 210, 45, 1, 210, 45, 1, 210, 45, 1, 210, 45, 1, 210, 45, 0.88, 210, 45, 0.75, 210, 45, 0.63, 210, 45, 0.5, 210, 45, 0.38, 210, 45, 0.25, 210, 45, 0.13, 210, 45, 0
    ];
    fani4 = [5, 150, 0, 106, 151, 0, 321, 72, 1, 5, 150, 0.11, 106, 151, 0.2, 321, 72, 1, 5, 150, 0.22, 106, 151, 0.4, 321, 72, 1, 5, 150, 0.33, 106, 151, 0.6, 321, 72, 1, 5, 150, 0.45, 106, 151, 0.8, 321, 72, 1, 5, 150, 0.55, 106, 151, 1, 179, 67, 0, 5, 150, 0.67, 101, 151, 1, 188, 67, 0.36,
        5, 150, 0.78, 96, 151, 1, 196, 67, 0.64, 5, 150, 0.89, 91, 151, 1, 201, 67, 0.84, 5, 150, 1, 86, 151, 1, 204, 67, 0.96, 5, 150, 1, 81, 151, 1, 205, 67, 1, 5, 150, 1, 77, 151, 1, 201, 67, 1, 5, 150, 1, 72, 151, 1, 189, 67, 1, 5, 150, 1, 67, 151, 1, 195, 67, 1, 5, 150, 1, 62, 151, 1, 197, 67, 1, 5, 150, 1, 57, 151, 1, 197, 67, 1, 5, 150, 1, 52, 151, 1, 197, 67, 1, 5, 150, 1, 57, 151, 1, 197, 67, 1, 5, 150, 1, 62, 151, 1, 197, 67, 1, 5, 150, 1, 67, 151, 1, 197, 67, 1, 5, 150, 1, 72, 151, 1, 197, 67, 1, 5, 150, 1, 77, 151, 1, 197, 67, 1, 5, 150, 1, 81, 151, 1, 197, 67, 1, 5, 150, 1, 86, 151, 1, 197, 67, 1, 5, 150, 1, 91, 151, 1, 197, 67, 1, 5, 150, 1, 96, 151, 1, 197,
        67, 1, 5, 150, 1, 101, 151, 1, 197, 67, 1, 5, 150, 1, 106, 151, 1, 197, 67, 1, 5, 150, 1, 110, 151, 1, 197, 67, 1, 5, 150, 1, 115, 151, 1, 197, 67, 1, 5, 150, 1, 119, 151, 1, 197, 67, 1, 5, 150, 1, 123, 151, 1, 197, 67, 1, 5, 150, 1, 128, 151, 1, 197, 67, 1, 5, 150, 1, 132, 151, 1, 197, 67, 1, 5, 150, 1, 137, 151, 1, 197, 67, 1, 5, 150, 1, 141, 151, 1, 197, 67, 1, 5, 150, 1, 145, 151, 1, 197, 67, 1, 5, 150, 1, 150, 151, 1, 197, 67, 1, 5, 150, 1, 154, 151, 1, 197, 67, 1, 5, 150, 1, 150, 151, 1, 197, 67, 1, 5, 150, 1, 145, 151, 1, 197, 67, 1, 5, 150, 1, 141, 151, 1, 197, 67, 1, 5, 150, 1, 137, 151, 1, 197, 67, 1, 5, 150, 1, 132, 151, 1, 197, 67, 1, 5, 150, 1, 128,
        151, 1, 197, 67, 1, 5, 150, 1, 123, 151, 1, 197, 67, 1, 5, 150, 1, 119, 151, 1, 197, 67, 1, 5, 150, 1, 115, 151, 1, 197, 67, 1, 5, 150, 0.94, 110, 151, 1, 197, 67, 1, 5, 150, 0.88, 106, 151, 1, 197, 67, 1, 5, 150, 0.81, 106, 151, 0.93, 197, 67, 1, 5, 150, 0.75, 106, 151, 0.86, 197, 67, 1, 5, 150, 0.69, 106, 151, 0.79, 197, 67, 1, 5, 150, 0.63, 106, 151, 0.71, 197, 67, 1, 5, 150, 0.56, 106, 151, 0.64, 197, 67, 0.9, 5, 150, 0.5, 106, 151, 0.57, 197, 67, 0.8, 5, 150, 0.44, 106, 151, 0.5, 197, 67, 0.7, 5, 150, 0.38, 106, 151, 0.43, 197, 67, 0.6, 5, 150, 0.31, 106, 151, 0.36, 197, 67, 0.5, 5, 150, 0.25, 106, 151, 0.29, 197, 67, 0.4, 5, 150,
        0.19, 106, 151, 0.21, 197, 67, 0.3, 5, 150, 0.13, 106, 151, 0.14, 197, 67, 0.2, 5, 150, 0.06, 106, 151, 0.07, 197, 67, 0.1, 5, 150, 0, 106, 151, 0, 197, 67, 0
    ];
    fanf4 = [97, 98, 123];
    fani5 = [24, -66, 1, 24, -63, 1, 24, -53, 1, 24, -38, 1, 24, -16, 1, 24, 12, 1, 24, 8, 1, 24, 6, 1, 24, 8, 1, 24, 12, 1, 24, 12, 1, 24, 12, 1, 24, 12, 1, 24, 12, 1, 24, 12, 1, 24, 12, 1, 24, 12, 1, 24, 12, 1, 24, 12, 1, 24, 12, 1, 24, 12, 1, 24, 12, 1, 24, 12, 1, 24, 12, 1, 24, 12, 1, 24, 12, 1, 24, 12, 1, 24, 12, 1, 24, 12, 1, 24, 12, 1, 24, 12, 1, 24, 12, 1, 24, 12, 1, 24, 12, 1, 24, 12, 1, 24, 12, 1, 24, 12, 1, 24, 12, 1, 24, 12, 1, 24, 12, 1, 24, 12, 1, 24, 12, 1, 24, 12, 1, 24,
        12, 1, 24, 12, 1, 24, 12, 1, 24, 12, 1, 24, 11, 1, 24, 7, 1, 24, 1, 1, 24, -8, 1, 24, -19, 1, 24, -32, 1, 24, -48, 1, 24, -67, 1
    ];
    fani6 = [36, 138, 0, 106, 193, 0, 321, 72, 1, 36, 138, 0.11, 106, 193, 0.2, 321, 72, 1, 36, 138, 0.22, 106, 193, 0.4, 321, 72, 1, 36, 138, 0.33, 106, 193, 0.6, 321, 72, 1, 36, 138, 0.45, 106, 193, 0.8, 321, 72, 1, 36, 138, 0.55, 106, 193, 1, 179, 67, 0, 36, 138, 0.67, 106, 189, 1, 188, 67, 0.36, 36, 138, 0.78, 106, 186, 1, 196, 67, 0.64, 36, 138, 0.89, 106, 182, 1, 201, 67, 0.84, 36, 138, 1, 106, 163, 1, 204, 67, 0.96, 36, 138, 1, 106, 148, 1, 205, 67, 1, 36, 138, 1, 106, 136, 1, 201, 67, 1, 36, 138, 1, 106, 127, 1,
        189, 67, 1, 36, 138, 1, 106, 122, 1, 195, 67, 1, 36, 138, 1, 106, 120, 1, 197, 67, 1, 36, 138, 1, 106, 120, 0.89, 197, 67, 1, 36, 138, 1, 106, 120, 0.78, 197, 67, 1, 36, 138, 1, 106, 120, 0.67, 197, 67, 1, 36, 138, 1, 106, 120, 0.55, 197, 67, 1, 36, 138, 1, 106, 120, 0.45, 197, 67, 1, 36, 138, 1, 106, 120, 0.33, 197, 67, 1, 36, 138, 1, 106, 120, 0.22, 197, 67, 1, 36, 138, 1, 106, 120, 0.11, 197, 67, 1, 36, 138, 1, 106, 120, 0, 197, 67, 1, 36, 138, 1, 106, 120, 0, 197, 67, 1, 36, 138, 1, 106, 120, 0, 197, 67, 1, 36, 138, 1, 106, 120, 0, 197, 67, 1, 36, 138, 1, 106, 120, 0, 197, 67, 1, 36, 138, 1, 106, 120, 0, 197, 67, 1, 36, 138, 1, 106, 120, 0, 197,
        67, 1, 36, 138, 1, 106, 120, 0, 197, 67, 1, 36, 138, 1, 106, 120, 0, 197, 67, 1, 36, 138, 1, 106, 120, 0, 197, 67, 1, 36, 138, 1, 106, 120, 0, 197, 67, 1, 36, 138, 1, 106, 120, 0, 197, 67, 1, 36, 138, 1, 106, 120, 0, 197, 67, 1, 36, 138, 1, 106, 120, 0, 197, 67, 1, 36, 138, 1, 106, 120, 0, 197, 67, 1, 36, 138, 1, 106, 120, 0, 197, 67, 1, 36, 138, 1, 106, 193, 0, 197, 67, 1, 36, 138, 1, 106, 193, 0.2, 197, 67, 1, 36, 138, 1, 106, 193, 0.4, 197, 67, 1, 36, 138, 1, 106, 193, 0.6, 197, 67, 1, 36, 138, 1, 106, 193, 0.8, 197, 67, 1, 36, 138, 1, 106, 193, 1, 197, 67, 1, 36, 138, 1, 106, 189, 1, 197, 67, 1, 36, 138, 1, 106, 186, 1, 197, 67, 1, 36, 138, 1, 106,
        182, 1, 197, 67, 1, 36, 138, 0.94, 106, 163, 1, 197, 67, 1, 36, 138, 0.88, 106, 148, 1, 197, 67, 1, 36, 138, 0.81, 106, 136, 1, 197, 67, 1, 36, 138, 0.75, 106, 127, 1, 197, 67, 1, 36, 138, 0.69, 106, 122, 1, 197, 67, 1, 36, 138, 0.63, 106, 120, 1, 197, 67, 1, 36, 138, 0.56, 106, 120, 0.89, 197, 67, 0.9, 36, 138, 0.5, 106, 120, 0.78, 197, 67, 0.8, 36, 138, 0.44, 106, 120, 0.67, 197, 67, 0.7, 36, 138, 0.38, 106, 120, 0.55, 197, 67, 0.6, 36, 138, 0.31, 106, 120, 0.45, 197, 67, 0.5, 36, 138, 0.25, 106, 120, 0.33, 197, 67, 0.4, 36, 138, 0.19, 106, 120, 0.22, 197, 67, 0.3, 36, 138, 0.13, 106, 120, 0.11, 197, 67, 0.2, 36, 138, 0.06, 106,
        120, 0, 197, 67, 0.1, 36, 138, 0, 106, 120, 0, 197, 67, 0
    ];
    fanf6 = [115, 98, 122];
    fani7 = [157, 56, 10, 4, 1, 125, 44, 75, 27, 1, 98, 34, 128, 47, 1, 77, 27, 170, 62, 1, 62, 22, 199, 73, 1, 53, 18, 217, 80, 1, 50, 17, 223, 82, 1, 65, 22, 194, 71, 1, 70, 24, 184, 67, 1, 66, 22, 192, 70, 1, 65, 22, 194, 71, 1, 65, 22, 194, 71, 1, 65, 22, 194, 71, 1, 65, 22, 194, 71, 1, 54, 18, 216, 79, 1, 50, 17, 223, 82, 1, 65, 22, 194, 71, 1, 70, 24, 184, 67, 1, 66, 22, 192, 70, 1, 65, 22, 194, 71, 1, 65, 22, 194, 71, 1, 65, 22, 194, 71, 1, 65, 22, 194, 71, 1, 54, 18, 216, 79, 1, 50, 17, 223, 82, 1, 65, 22, 194, 71, 1, 70, 24, 184, 67, 1, 66, 22, 192, 70, 1, 65, 22, 194,
        71, 1, 65, 22, 194, 71, 1, 65, 22, 194, 71, 1, 65, 22, 194, 71, 1, 65, 22, 194, 71, 1, 65, 22, 194, 71, 1, 65, 22, 194, 71, 1, 65, 22, 194, 71, 1, 65, 22, 194, 71, 1, 65, 22, 194, 71, 1, 65, 22, 194, 71, 1, 65, 22, 194, 71, 1, 65, 22, 194, 71, 1, 65, 22, 194, 71, 1, 65, 22, 194, 71, 0.83, 65, 22, 194, 71, 0.67, 65, 22, 194, 71, 0.5, 65, 22, 194, 71, 0.33, 65, 22, 194, 71, 0.17, 65, 22, 194, 71, 0
    ];
    fani8 = [-6, -199, 2, -138, 8, -88, 13, -50, 17, -22, 19, -6, 20, 0];
    scrux = [232, 245, 258, 271, 284];
    a = document.cookie;
    b = a.indexOf("rvs_3d_run=") + 11;
    10 != b ? (a = a.substr(b, a.indexOf("endcksv") - b), bstscr = Math.floor(a)) :
        (a = new Date, a.setDate(a.getDate() + 730), document.cookie = "rvs_3d_run=1000endcksv; expires=" + a.toGMTString(), bstscr = 1E3);
    a = document.createElement("canvas");
    a.width = 320;
    a.height = 568;
    bcv2 = a.getContext("2d");
    bex = [136, 139, 138, 139, 138];
    bey = [66, 87, 99, 87, 78];
    a = document.cookie;
    b = a.indexOf("st_kma_run=") + 11;
    gmsts = 0;
    10 != b && (gmsts = Math.floor(a.substr(b, 1)));
    b = a.indexOf("st_kma_tip=") + 11;
    gtips = 0;
    10 != b && 1 == Math.floor(a.substr(b, 1)) && (gtips = 1);
    stini()
}

function stini() {
    gmovcl = tipon = 0;
    stti1 = 2;
    stti2 = 30;
    ranlp = 0.5;
    ttlct = 760;
    switch (gmsts) {
        case 0:
            stti1 = 2;
            stti2 = 30;
            ranlp = 0.5;
            ttlct = 0;
            break;
        case 1:
            stti1 = 2;
            stti2 = 30;
            ranlp = 0.5;
            ttlct = 760;
            break;
        case 2:
            stti1 = 2;
            stti2 = 30;
            ranlp = 0.5;
            ttlct = 760;
            break;
        case 3:
            stti1 = 2, stti2 = 30, ranlp = 0.5, ttlct = 760
    }
    gmovf = 0;
    gmovc = 5;
    efc = ef = afc = af = 0;
    tx[0] = 160;
    ty[0] = 200;
    tx[1] = 160;
    ty[1] = 53;
    wx = 160;
    stefc = upx = flt = mt = tm = 0;
    sp = 1;
    bp_f = {};
    bpfr = bp_fi = 0;
    ip_f = {};
    ip_fi = 0;
    rk_f = {};
    rk_fi = 0;
    wd_f = {};
    wd_fi = 0;
    as_f = {};
    brc = arc = mkj = mky = mkt = asfr2 = asfr = as_fi = 0;
    rmx = 285;
    rex = 324;
    mes = esp = msp = 0;
    ttlmd = 1;
    slv = 0;
    uct = -75;
    alp = 1;
    bemy = bemx = ogm = mtitv = kmstt = jsf = jpy = tchy = hsmn = fvra = fvri = fvrc = fvr = spdr2 = spdr1 = spdr = lscr = scr = cmb = bnst = bnsc = gtm = dgt = 0;
    for (var a = 2; a < m; a++) tx[a] = Math.floor(220 * Math.random()) + 50, ty[a] = 500, tt[a] = Math.floor(2 * Math.random()), ta[a] = 1, tf[a] = 0, tl[a] = 0, ty[a] = 417, ts[a] = 12
}

function gtcmb(a, b) {
    pt_set1(a, b, 32);
    cmb++;
    0 == fvr && 1 < cmb && 9 > cmb && (fa_f["c" + fa_fi] = {
        x: tx[0] - 22,
        y: ty[0] - 50,
        fi: 0,
        pi: 0,
        ci: 80 + cmb,
        l: 1
    }, fa_fi++, 8 == cmb && 0 == spdr && (fa_f["c" + fa_fi] = {
        x: Math.floor(200 * Math.random()) + 60,
        y: 355,
        fi: 1,
        pi: 0,
        ci: 0,
        l: 1
    }, fa_fi++, spdr = -1));
    0 == arc && (arc = 1)
}

function tev11(a) {
    mousePos = {
        x: a.clientX,
        y: a.clientY
    };
    Press(mousePos);
    a.preventDefault()
}

function tev1(a) {
    mousePos = {
        x: a.touches[0].pageX,
        y: a.touches[0].pageY
    };
    Press(mousePos);
    a.preventDefault()
}

function dp_submitScore(a, b) {}

function Press(a) {
    var b = a.x / wdpr | 0;
    switch (s) {
        case 1:
            mv(b);
            if (750 > ttlct) {
                var f = a.y / wdpr | 0;
                235 < b && 70 > f && (ttlct = 751)
            }
            break;
        case 0:
            f = a.y / wdpr | 0;
            175 < b && 365 < f ? window.location.href = "#" : 60 > b && 350 < f ? dp_Ranking() : (stini(), s = 1, 6 != dvid ? stm = setTimeout("lp()", 1E3 / stti2) : (window.requestAnimationFrame = function() {
                return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function(a, b) {
                    window.setTimeout(a,
                        1E3 / 60)
                }
            }(), ralp()), canvas.style.backgroundImage = "none");
            break;
        case 2:
            dp_submitScore(-1, scr), scr = 0, stini(), s = 1
    }
    a = a.y / wdpr;
    jpy = 0;
    f = a
}

function tev22(a) {
    mousePos = {
        x: a.clientX,
        y: a.clientY
    };
    Release(mousePos)
}

function tev2(a) {
    mousePos = {
        x: a.changedTouches[0].pageX,
        y: a.changedTouches[0].pageY
    };
    Release(mousePos);
    a.preventDefault()
}

function jump() {
    mkt = 21, mky = 0, mkj = -20, jsf = 101;
}


function Release(a) {
    10 < jpy && 0 == mkt && (mkt = 21, mky = 0, mkj = -20, jsf = 101)
}

function tev33(a) {
    mousePos = {
        x: a.clientX,
        y: a.clientY
    };
    Move(mousePos)
}

function tev3(a) {
    mousePos = {
        x: a.touches[0].pageX,
        y: a.touches[0].pageY
    };
    Move(mousePos);
    event.preventDefault()
}

function Move(a) {
    wdpr = 1;
    var b = a.y / wdpr;
    jpy = tchy - b;
    tchy = b;
    mv(a.x / wdpr | 0)
}

function tev4(a) {
    a.preventDefault()
}

function mv(a) {
    wx = mx = 0.6 * (a - 160) + 160
}

function pt_set1(a, b, f) {
    var e = 0,
        g, h;
    Math.sqrt(Math.pow(void 0, 2) + Math.pow(void 0, 2));
    Math.cos(e);
    Math.sin(e);
    a -= 9;
    b -= 9;
    for (var c = 0; 10 > c; c++) e += 0.66, g = 8 * Math.cos(e), h = 8 * Math.sin(e), ip_f["c" + ip_fi] = {
        x: a + g,
        y: b + h,
        f: f,
        sx: 0.4 * g + 0.2 * Math.random() - 0.1,
        sy: 0.01 * h - 1 * Math.random(),
        a: 1,
        l: 1
    }, ip_fi++
}

function pt_set2(a, b, f) {
    f *= 1.4;
    for (var e = 0; 6 > e; e++) rk_f["c" + rk_fi] = {
        x: a,
        y: b,
        ly: b,
        sy2: 0,
        f: 37 + Math.floor(3 * Math.random()),
        sx: (-10 + 3.3 * e) * f,
        sy: (-7 - 3 * Math.random()) * f,
        sc: 1.3 * f,
        l: 1
    }, rk_fi++;
    rk_f["c" + (rk_fi - 4)].sy -= 2 * f;
    rk_f["c" + (rk_fi - 3)].sy -= 2 * f
}

function pt_set3(a, b, f) {
    f *= 1.4;
    for (var e = [110, 111, 112, 113, 113], g = [-8, 10, 2.4, -5.6, -4.8], h = [-6, -6, -10, -5, -8], c = 0; 5 > c; c++) wd_f["c" + wd_fi] = {
        x: a,
        y: b,
        ly: b,
        sy2: 0,
        f: e[c],
        sx: g[c] * f,
        sy: h[c] * f,
        sc: 1.3 * f,
        a: 1,
        l: 1
    }, wd_fi++
}

function lp() {
    6 != dvid && 1 == alp && (clearTimeout(stm), stm = setTimeout("lp()", 1E3 / stti2));
    var a, b, f = 0;
    if (0 == ogm) {
        stgbg += 1 + (0 < fvr);
        4 < stgbg && (stgbg -= 5);
        ctx.drawImage(img1, 320 * stgbg, 0, 320, 568, 0, 0, 320, 568);
        var e = [];
        for (a in w) b = w[a], b.y = Math.floor(ty[b.i]), e.push([b.i, b.y]);
        srt(e, 1);
        tm = Math.floor(+new Date / 1E3);
        tm != mt && 1 < tm && (flt = 0, 0 == gmsts && 500 < scr && (a = new Date, a.setDate(a.getDate() + 730), document.cookie = "st_kma_run=1; expires=" + a.toGMTString(), gmsts = 1));
        flt++;
        mt = tm;
        var g, h, c, n = 1;
        0 < fvr && (n = 0.5);
        for (g = 0; g < e.length; g++) {
            a =
                e[g][0];
            switch (a) {
                case 0:
                    if (0 < ip_fi) {
                        c = 0;
                        for (var k in ip_f) b = ip_f[k], 1 == b.l && (b.x += b.sx, b.y += b.sy, b.sx *= 0.85, b.sy -= 0.3, b.a -= 0.05, 0 > b.a ? (b.l = 0, delete b) : (ctx.globalAlpha = b.a, spt2(b.f, b.x, b.y), ctx.globalAlpha = 1), c++);
                        0 == c && (ip_f = {}, ip_fi = 0)
                    }
                    if (0 < rk_fi) {
                        c = 0;
                        for (k in rk_f) b = rk_f[k], 1 == b.l && (b.x += b.sx, b.y += b.sy, b.sx *= 0.96, b.sy += 0.8 * b.sc + b.sy2, 2 < b.sy && (b.sc *= 0.8), b.y > b.ly || 0.1 > b.sc ? (b.l = 0, delete b) : spt(b.f, b.x, b.y, b.sc, 0), c++);
                        0 == c && (rk_f = {}, rk_fi = 0)
                    }
                    if (0 < wd_fi) {
                        c = 0;
                        for (k in wd_f) b = wd_f[k], 1 == b.l && (b.x +=
                            b.sx, b.y += b.sy, b.sx *= 0.96, b.sy += 1, 0 < b.sy && (b.a -= 0.1), 0 > b.a ? (b.a = 0, b.l = 0, delete b) : (ctx.globalAlpha = b.a, spt(b.f, b.x, b.y, b.sc, 0), ctx.globalAlpha = 1), c++);
                        0 == c && (wd_f = {}, wd_fi = 0)
                    }
                    if (0 != fvr) {
                        for (b = 0; 3 > b; b++) c = 15 * fafi2 + 5 * b, ctx.globalAlpha = fani2[c + 2], spt4(fanf2[b], fani2[c] + tx[0], fani2[c + 1] + 175, fani2[c + 3], fani2[c + 4]);
                        fafi2++;
                        15 < fafi2 && (fafi2 = 0);
                        ctx.globalAlpha = 1
                    }
                    afc++;
                    1 < afc && (afc = 0, af++, 5 < af && (af = 0));
                    tx[a] += (wx - tx[a]) / 3;
                    80 > tx[a] && (tx[a] = 80);
                    240 < tx[a] && (tx[a] = 240);
                    upx = tx[a];
                    c = af + 6;
                    160 < ty[1] && (f = 0.5, c = af + 12,
                        asfr++, 8 < asfr && (asfr = 0, as_f["c" + as_fi] = {
                            x: tx[a] + 10 - 4,
                            y: ty[a] - 80,
                            sx: 2 + 5 * Math.random(),
                            sy: -3 - 5 * Math.random(),
                            f: 56 + Math.floor(2 * Math.random()),
                            a: 1,
                            l: 1
                        }, as_fi++, as_f["c" + as_fi] = {
                            x: tx[a] + 5 - 4,
                            y: ty[a] - 80,
                            sx: 0 + 5 * Math.random(),
                            sy: -5 - 5 * Math.random(),
                            f: 56 + Math.floor(2 * Math.random()),
                            a: 1,
                            l: 1
                        }, as_fi++, as_f["c" + as_fi] = {
                            x: tx[a] - 10 - 4,
                            y: ty[a] - 80,
                            sx: -2 - 5 * Math.random(),
                            sy: -3 - 5 * Math.random(),
                            f: 54 + Math.floor(2 * Math.random()),
                            a: 1,
                            l: 1
                        }, as_fi++, as_f["c" + as_fi] = {
                            x: tx[a] - 5 - 4,
                            y: ty[a] - 80,
                            sx: -0 - 5 * Math.random(),
                            sy: -5 - 5 * Math.random(),
                            f: 54 + Math.floor(2 * Math.random()),
                            a: 1,
                            l: 1
                        }, as_fi++));
                    if (0 < mkt) {
                        c = jsf;
                        b = mkj;
                        if (45 != jsf) {
                            switch (mkt) {
                                case 16:
                                    103 != jsf && (jsf = 102);
                                    break;
                                case 8:
                                    jsf = 103
                            }
                            b = 0.7 * mkj
                        }
                        mky += b;
                        mkj += 2;
                        0 < mky && (mky = 0, mkj = -mkj / 2);
                        mkt--;
                        0 == mkt && (mkj = mky = 0);
                        spt2(53, tx[a] - 24, ty[a])
                    }
                    0 < arc ? (ctx.globalAlpha = ara[0][arc], spt3(46, tx[a], ty[a] + ary[0][arc] + 130, arw[0][arc], arh[0][arc]), ctx.globalAlpha = 1, spt(c, tx[a], ty[a] + mky, 1, 0.7), ctx.globalAlpha = ara[1][arc], spt3(47, tx[a], ty[a] + ary[0][arc] + 130, arw[0][arc], arh[0][arc]), ctx.globalAlpha = 1, arc++,
                        10 < arc && (arc = 0)) : spt(c, tx[a], ty[a] + mky, 1, 0.7);
                    if (0 < as_fi) {
                        c = 0;
                        for (k in as_f) b = as_f[k], 1 == b.l && (b.x += b.sx, b.y += b.sy, b.sx *= 0.96, b.sy += 1.2, b.a -= 0.1, 0 > b.a ? (b.l = 0, delete b) : (ctx.globalAlpha = b.a, spt2(b.f, b.x, b.y), ctx.globalAlpha = 1), c++);
                        0 == c && (as_f = {}, as_fi = 0)
                    }
                    break;
                case 1:
                    efc++;
                    2 < efc && (efc = 0, ef++, 4 < ef && (ef = 0));
                    stefc += kmstt;
                    30 < stefc && 60 > stefc && (rex += (rmx + 3 - rex) / 6);
                    ty[a] += (195 - 4.833 * mes - ty[a]) / 10;
                    50 > ty[a] && (ty[a] = 50);
                    195 < ty[a] && (ty[a] = 195);
                    c = (ty[a] - 50) / 130;
                    h = (ty[a] - 40) / 336;
                    b = (tx[a] - 160) * h + 164;
                    h = ty[a] - h /
                        2;
                    75 > h && (h = 75);
                    120 > ty[a] && (ctx.globalAlpha = ty[a] * ty[a] * ty[a] / 1E4 * (1 / 120));
                    0 < brc ? (ctx.globalAlpha = ara[2][brc], spt3(48, b, h + ary[2][brc] * c + 200 * c, arw[2][brc] * c * 1, arh[2][brc] * c * 1), ctx.globalAlpha = 1, spt(ef + 1, b, h, c, 0.83), ctx.globalAlpha = ara[3][brc], spt3(49, b, h + ary[3][brc] * c + 170 * c, arw[3][brc] * c * 1, arh[3][brc] * c * 1), ctx.globalAlpha = 1, brc++, 10 < brc && (brc = 0)) : spt(ef + 1, b, h, c, 0.83);
                    bemx = b;
                    bemy = h;
                    ctx.globalAlpha = 1;
                    if (0 < bp_fi) {
                        h = 0;
                        for (k in bp_f) b = bp_f[k], 1 == b.l && (ctx.globalAlpha = b.a, spt2(b.f, b.x, b.y), ctx.globalAlpha =
                            1, b.x += b.sx, b.y += b.sy, b.sy -= 0.1, b.a -= 0.05, 0 > b.a && (b.l = 0, delete b), h++);
                        0 == h && (bp_f = {}, bp_fi = 0)
                    }
                    bpfr++;
                    b = ef + 1;
                    b > ef && b - 4;
                    (1 == ef || 3 == ef) && 0 < bpfr && 150 < ty[a] && (bpfr = 0, bp_f["c" + bp_fi] = {
                        x: tx[a] + 5,
                        y: ty[a] - 60 * c,
                        sx: 0 * Math.random() - 0,
                        sy: 3.8 * c,
                        f: 29 + Math.floor(2 * Math.random()),
                        a: 1,
                        l: 1
                    }, bp_fi++);
                    break;
                default:
                    if (1 == tl[a]) {
                        c = (ty[a] - 50) / (236 + 0.09 * (1800 - ty[a]));
                        ty[a] -= ts[a] * c;
                        h = (ty[a] - 40) / 336;
                        b = (tx[a] - 160) * h + 160;
                        h = ty[a];
                        if (115 > ty[a] && (ta[a] -= 0.05, 0 > ta[a] && (ta[a] = 0), 80 > ty[a])) {
                            if (1 == tl[a]) switch (ta[a] = 0, tt[a]) {
                                case 0:
                                    0 ==
                                        fvr && 0 == ttlmd && (sp += 2, 1.5 < sp && (sp = 1.5), pt_set1(b, h, 35), 0 == brc && (brc = 1), esp = 30 < mes ? esp + 84 : esp + 46);
                                    break;
                                case 2:
                                    0 == fvr && (pt_set1(b, h, 35), esp = 200), spdr = 0
                            }
                            tl[a] = 0;
                            usi.push(a)
                        }
                        if (200 < ty[a] && 225 > ty[a] && (25 > Math.abs(b - tx[0]) || 3 == tt[a]) && (7 > mkt || 2 == tt[a]) && 1 == tl[a] && 4 != tt[a]) switch (tl[a] = 0, usi.push(a), tt[a]) {
                                case 0:
                                    gtcmb(b, h);
                                    msp = 6 > mes ? 12 : 10 > mes ? 10 : 7;
                                    break;
                                case 1:
                                    pt_set2(b, h, c);
                                    0 < mkt ? (mkt = 20, mky = -16, mkj = -9, jsf = 103, gtcmb(b, h)) : 0 == fvr ? (cmb = 0, mkt = 16, mky = 0, mkj = -8, jsf = 45, 0 == ttlmd && (24 < mes ? (msp = -600, esp += 50) : 12 <
                                        mes ? (msp = -600, esp += 20) : msp = -300, 2500 < scr && (msp -= (scr - 2500) / 100))) : gtcmb(b, h);
                                    break;
                                case 2:
                                    fa_f["c" + fa_fi] = {
                                        x: 0,
                                        y: 0,
                                        fi: 2,
                                        pi: 0,
                                        ci: 0,
                                        l: 1
                                    };
                                    fa_fi++;
                                    fvr = 1;
                                    fvrc = 0;
                                    fvri = 1;
                                    spdr = fvra = 0;
                                    2 > slv && (slv = 2);
                                    break;
                                case 3:
                                    pt_set3(b, h, c), 0 < mkt ? (mkt = 20, mky = -16, mkj = -9, jsf = 103, gtcmb(b, h)) : 0 == fvr ? (cmb = 0, mkt = 16, mky = 0, mkj = -8, jsf = 45, 0 == ttlmd && (24 < mes ? (msp = -600, esp += 50) : 12 < mes ? (msp = -600, esp += 20) : msp = -300, 2500 < scr && (msp -= (scr - 2500) / 100))) : gtcmb(b, h)
                            } else if (1 == tl[a] && ty[a] < ty[1] + 10 && 4 != tt[a]) {
                                var q = 0;
                                switch (tt[a]) {
                                    case 0:
                                        0 ==
                                            fvr && (pt_set1(b, h, 35), 0 == brc && (brc = 1), esp = 15 < mes ? 36 : 6 < mes ? 24 : 10, 2500 < scr && (esp += (scr - 2500) / 100));
                                        break;
                                    case 1:
                                        100 * Math.random() > gkk[slv] ? (pt_set2(b, h, c), esp = 12 < mes ? -20 : -200, 2200 < scr && (esp = -20)) : (q = 1, ts[a] = 0, tt[a] = 4, tj[a] = -24, tjy[a] = 0, trf[a] = 121);
                                        break;
                                    case 2:
                                        0 == fvr && (pt_set1(b, h, 35), esp = 100);
                                        cmb = spdr = 0;
                                        break;
                                    case 3:
                                        pt_set3(b, h, c), esp = 12 < mes ? -20 : -200, 2200 < scr && (esp = -20)
                                }
                                0 == q && (tl[a] = 0, usi.push(a))
                            }
                        if (1 == tl[a] && 0 < ta[a]) {
                            ctx.globalAlpha = ta[a];
                            if (568 > ty[a]) switch (tt[a]) {
                                case 0:
                                    spt(knmf[tf[a] | 0], b, h, c,
                                        0);
                                    tf[a] += 0.5 * n;
                                    5 < tf[a] && (tf[a] = 0);
                                    break;
                                case 1:
                                    spt(23 + (tf[a] | 0), b, h, 1.9 * c, 0);
                                    tf[a] += 0.2 * n;
                                    6 < tf[a] && (tf[a] = 0);
                                    break;
                                case 2:
                                    spt(80, b, h, 1.9 * c, 0);
                                    break;
                                case 3:
                                    spt(104 + (tf[a] | 0), b, h, 1.9 * c, 0);
                                    tf[a] += 0.3 * n;
                                    5 < tf[a] && (tf[a] = 0);
                                    break;
                                case 4:
                                    tjy[a] += tj[a], tj[a] += 1.5, ty[a] += (220 - ty[a]) / 10, -10 < tjy[a] && 0 < tj[a] && (tjy[a] = 0, pt_set2(b, h, c), tl[a] = 0, usi.push(a), 0 == fvr && 40 > Math.abs(b - tx[0]) && 0 == mkt && (mkt = 16, mky = 0, mkj = -8, jsf = 45)), ctx.globalAlpha = 0.6, spt(53, b, h, 1.9 * c, 0), ctx.globalAlpha = 1, spt(trf[a] | 0, b, h + tjy[a], 1.9 * c,
                                        0), trf[a] -= 0.5, 116 > trf[a] && (trf[a] = 121)
                            }
                            ctx.globalAlpha = 1
                        }
                    }
            }
            var l;
            0 <= msp ? (msp *= 0.95, 0.01 > Math.abs(msp) && (msp = 0), l = (msp + 1) / 80, 0 > l && (l = 0)) : 0 > msp && (msp++, l = 0);
            rmx -= l;
            0 <= esp ? (esp *= 0.95, 0.01 > Math.abs(esp) && (esp = 0), l = (esp + 1) / 80, 0 > l && (l = 0)) : 0 > esp && (esp++, l = 0);
            rex -= l;
            100 > rmx && (rmx += 100, rex += 100);
            mes = rex - rmx;
            28 < mes && (rex = rmx + 28)
        }
        uct += askb;
        a = slv;
        16 < a && (a = 16);
        0 != fvr && (a = 17);
        l = glv[a];
        e = gsp[a];
        1 < stti1 && 10 < a && 1 > mes && 0 == fvr && 0 == spdr && 0 == spdr1 && 0 == spdr2 && (fa_f["c" + fa_fi] = {
            x: Math.floor(200 * Math.random()) + 60,
            y: 355,
            fi: 5,
            pi: 0,
            ci: 0,
            l: 1
        }, fa_fi++, spdr2 = -1);
        0 < spdr1 && spdr1--;
        0 == bnsc ? 0 < stti1 && 9 < a && 4 > cmb && 16 > mes && 0 == fvr && 0 == bnst && 497 < 5E3 * Math.random() && 0 == spdr && 0 == spdr1 && 0 == spdr2 && (g = 50, 50 < 100 * Math.random() && (g = 220), fa_f["c" + fa_fi] = {
            x: g,
            y: 355,
            fi: 4,
            pi: 0,
            ci: 0,
            l: 1
        }, fa_fi++, spdr1 = 160) : (l = 10, a = 18);
        if (uct > l && (uct = 0, 0 < usi.length))
            if (0 < spdr) iint(spdr + 26, 417, 2, 12), spdr = -2;
            else switch (l = Math.floor(260 * Math.random()) + 30, g = 0, a) {
                case 0:
                case 1:
                    iint(l, 417, slv, e);
                    break;
                case 2:
                    iint(160, 417, 3, e);
                    break;
                case 3:
                    iint(l, 417, 0, e);
                    break;
                case 4:
                    50 <
                        100 * Math.random() && (g = 1);
                    iint(l, 417, g, e);
                    break;
                case 5:
                case 6:
                case 17:
                    0 == mtitv ? (g = 3, l = 160, mtitv = Math.floor(5 * Math.random()) + 2) : 50 < 100 * Math.random() && (g = 1);
                    mtitv--;
                    iint(l, 417, g, e);
                    break;
                case 7:
                case 8:
                    8 < mes && 90 < 100 * Math.random() ? (a = e + 2, iint(50, 417, 0, a), iint(285, 417, 0, a)) : (0 == mtitv ? (g = 3, l = 160, mtitv = Math.floor(10 * Math.random()) + 2) : 50 < 100 * Math.random() && (g = 1), mtitv--, iint(l, 417, g, e));
                    break;
                case 9:
                    iint(l, 417, 1, e);
                    break;
                case 18:
                    10 < bnsc ? (iint(275 - 30 * (bnsc - 10), 417, 0, e), bnsc++, 18 < bnsc && (bnsc = 0)) : (iint(50 + 30 *
                        bnsc, 417, 0, e), bnsc++, 8 < bnsc && (bnsc = 0));
                    break;
                default:
                    8 < mes && 90 < 100 * Math.random() ? (a = e + 2, iint(50, 417, 0, a), iint(285, 417, 0, a)) : (0 == mtitv ? (g = 3, l = 160, mtitv = Math.floor(10 * Math.random()) + 2) : 50 < 100 * Math.random() && (g = 1), mtitv--, iint(l, 417, g, e))
            }
        if (0 == ttlmd) {
            var p = 12 + 50 * (0 < fvr);
            scs(scr | 0, 1, p);
            spt2(78, 297, p);
            scr += 0.5 + 0.5 * (0 < fvr) + 0.5 * (0 < msp) + f;
            if (0 == fvr && (lscr++, lscr > gcl[slv])) switch (lscr = 0, slv++, slv) {
                case 5:
                    mtitv = 0;
                    break;
                case 9:
                    uct = -10, 18 < mes && (rex = rmx + 18)
            }
            1 == hsmn && spt2(96, 245, p + 32);
            scr > bstscr && (fa_f["c" + fa_fi] = {
                x: 0,
                y: p - 12,
                fi: 3,
                pi: 0,
                ci: 0,
                l: 1
            }, fa_fi++, bstscr = 999999)
        } else switch (ttlct += askb, ttlct) {
            case 20:
                fa_f["c" + fa_fi] = {
                    x: 0,
                    y: 0,
                    fi: 6,
                    pi: 0,
                    ci: 0,
                    l: 1
                };
                fa_fi++;
                break;
            case 100:
                fa_f["c" + fa_fi] = {
                    x: 0,
                    y: 0,
                    fi: 8,
                    pi: 0,
                    ci: 0,
                    l: 1
                };
                fa_fi++;
                break;
            case 295:
                fa_f["c" + fa_fi] = {
                    x: 0,
                    y: 0,
                    fi: 7,
                    pi: 0,
                    ci: 0,
                    l: 1
                };
                fa_fi++;
                slv++;
                uct = 0;
                break;
            case 500:
                uct = 0;
                break;
            case 520:
                fa_f["c" + fa_fi] = {
                    x: 0,
                    y: 0,
                    fi: 10,
                    pi: 0,
                    ci: 0,
                    l: 1
                };
                fa_fi++;
                uct = -50;
                slv++;
                break;
            case 534:
                fa_f["c" + fa_fi] = {
                    x: 0,
                    y: 0,
                    fi: 9,
                    pi: 0,
                    ci: 0,
                    l: 1
                };
                fa_fi++;
                break;
            case 700:
                uct = -130;
                break;
            case 785:
                fa_f["c" +
                    fa_fi] = {
                    x: 0,
                    y: 0,
                    fi: 11,
                    pi: 0,
                    ci: 0,
                    l: 1
                };
                fa_fi++;
                break;
            case 810:
                kmstt = 1;
                slv++;
                break;
            case 850:
                ttlmd = 0, pt_set1(290, 40, 32)
        }
        0 != fvr && (1 > fvra && (ctx.globalAlpha = fvra), 45 > fvr && (fvra += 0.025, 1 < fvra && (fvra = 1)), 261 < fvr && (fvra -= 0.025, 0 > fvra && (fvra = 0)), 1 == fvri ? spt2(91, 0, 0) : spt2(92, 0, 0), ctx.globalAlpha = 1, fvrc++, 3 < fvrc && (fvri = -fvri, fvrc = 0), msp = 5, fvr++, 300 < fvr && (cmb = fvr = 0, 9 == slv && 18 < mes && (rex = rmx + 18)));
        if (0 < fa_fi) {
            f = 0;
            for (k in fa_f)
                if (b = fa_f[k], 1 == b.l) {
                    switch (b.fi) {
                        case 0:
                            e = [81, b.ci];
                            for (a = 0; 2 > a; a++) c = 6 * b.pi + 3 * a, ctx.globalAlpha =
                                fani[0][c + 2], spt2(e[a], fani[0][c] + b.x, fani[0][c + 1] + b.y);
                            b.pi++;
                            12 < b.pi && (b.l = 0, delete fa_f[k]);
                            break;
                        case 1:
                            c = 3 * b.pi;
                            ctx.globalAlpha = fani[1][c + 2];
                            spt2(93, fani[1][c] + b.x, fani[1][c + 1]);
                            b.pi++;
                            44 < b.pi && (uct = 999, spdr = b.x, b.l = 0, delete fa_f[k]);
                            break;
                        case 2:
                            c = 3 * b.pi;
                            ctx.globalAlpha = fani[2][c + 2];
                            spt2(90, fani[2][c], fani[2][c + 1]);
                            b.pi++;
                            40 < b.pi && 0 != fvr && (b.pi = 40);
                            48 < b.pi && (b.l = 0, delete fa_f[k]);
                            break;
                        case 3:
                            c = 3 * (b.pi | 0);
                            ctx.globalAlpha = fani3[c + 2];
                            spt2(79, fani3[c], p + 32);
                            10 < b.pi && 20 > b.pi ? b.pi += 0.1 : b.pi++;
                            30 <
                                b.pi && (hsmn = 1, b.l = 0, delete fa_f[k]);
                            break;
                        case 4:
                            c = 3 * b.pi;
                            ctx.globalAlpha = fani[1][c + 2];
                            spt2(94, fani[1][c] + b.x, fani[1][c + 1]);
                            b.pi++;
                            44 < b.pi && (bnsc = 100 > b.x ? 1 : 11, bnst = 1, b.l = 0, delete fa_f[k]);
                            break;
                        case 5:
                            c = 3 * b.pi;
                            ctx.globalAlpha = fani[1][c + 2];
                            spt2(95, fani[1][c] + b.x, fani[1][c + 1]);
                            b.pi++;
                            44 < b.pi && (uct = 999, spdr = b.x, b.l = 0, delete fa_f[k]);
                            break;
                        case 6:
                            for (a = 0; 3 > a; a++) c = 9 * b.pi + 3 * a, ctx.globalAlpha = fani4[c + 2], spt2(fanf4[a], fani4[c], fani4[c + 1]);
                            b.pi++;
                            63 < b.pi && (b.l = 0, delete fa_f[k]);
                            break;
                        case 7:
                            c = 3 * b.pi;
                            ctx.globalAlpha =
                                fani5[c + 2];
                            spt2(100, fani5[c], fani5[c + 1]);
                            b.pi++;
                            54 < b.pi && (spdr = b.x, b.l = 0, delete fa_f[k]);
                            break;
                        case 8:
                            c = 3 * b.pi;
                            ctx.globalAlpha = fani5[c + 2];
                            spt2(99, fani5[c], fani5[c + 1]);
                            b.pi++;
                            54 < b.pi && (spdr = b.x, b.l = 0, delete fa_f[k]);
                            break;
                        case 9:
                            for (a = 0; 3 > a; a++) c = 9 * b.pi + 3 * a, ctx.globalAlpha = fani6[c + 2], spt2(fanf6[a], fani6[c], fani6[c + 1]);
                            b.pi++;
                            63 < b.pi && (b.l = 0, delete fa_f[k]);
                            break;
                        case 10:
                            c = 3 * b.pi;
                            ctx.globalAlpha = fani5[c + 2];
                            spt2(114, fani5[c], fani5[c + 1]);
                            b.pi++;
                            54 < b.pi && (spdr = b.x, b.l = 0, delete fa_f[k]);
                            break;
                        case 11:
                            c =
                                5 * b.pi, ctx.globalAlpha = fani7[c + 4], spt4(124, fani7[c], fani7[c + 1], fani7[c + 2], fani7[c + 3]), b.pi++, 47 < b.pi && (b.l = 0, delete fa_f[k])
                    }
                    ctx.globalAlpha = 1;
                    f++
                }
            0 == f && (fa_f = {}, fa_fi = 0)
        }
        gtm++; - 1 > mes && 196 > ty[1] ? dgt++ : dgt = 0; - 1 > mes && 80 < dgt && 0 == fvr && 300 < scr && 0 == ogm && (bcv2.drawImage(ctx.canvas, 0, 0, 320, 568, 0, 0, 320, 568), ogm = 1, scr |= 0, 999999 == bstscr && (a = new Date, a.setDate(a.getDate() + 730), document.cookie = "rvs_3d_run=" + scr + "endcksv; expires=" + a.toGMTString(), bstscr = scr))
    } else ogm++, 31 > ogm ? (
        ctx.drawImage(bcv2.canvas, 0, 0, 320,
            568, 0, 0, 320, 568), k = ogm / 30, 1 < k && (k = 1), ctx.globalAlpha = k, ctx.fillStyle = "#000", ctx.fillRect(0, 0, 320, 568), ctx.globalAlpha = 1, spt2(126, bex[ef], bey[ef])) : 50 > ogm ? (ctx.globalAlpha = 0.5, k = 108 - gmovf, p = 100 + 2 * gmovf, gmovf += gmovc, gmovc += 3, ctx.drawImage(img7, 735, 0, 100, 100, k, k, p, p)) : (60 > ogm ? (k = (ogm - 50) / 30, 1 < k && (k = 1)) : (0 == gmovcl && (gmovcl = 1), ctx.drawImage(img2, 0, 0, 320, 568, 0, 0, 320, 568), scs2(99, String(scr).length, scr), bstscr == scr && spt2(150, 76, 103), 1 == gtips && spt2(152, 79, 309), 1 < gmsts && (spt2(152, 188, 320), 2 < gmsts && spt2(152,
        276, 320)), k = 1 - (ogm - 60) / 30, 0 > k && (k = 0, s = 2)), ctx.globalAlpha = k, ctx.fillStyle = "#FFF", ctx.fillRect(0, 0, 320, 568), ctx.globalAlpha = 1);

    750 > ttlct && spt2(153, 272, 5);

    if (31 <= ogm && hasEnd == false) {
        console.log('game has end');
        setTimeout(function() {
            window.P.showShare({
                score: scr,
                og: {
                    title: "Run fast, faster, or you will be eaten by the bear." + " I got " + scr + " points in this game,come on!"
                }
            })
        }, 1000)
        hasEnd = true;
    } else if (31 > ogm && hasEnd == true) {
        console.log('game restart')
        hasEnd = false;
    }
}

var hasEnd = false;

function iint(a, b, f, e) {
    var g = usi.shift();
    tx[g] = a;
    ty[g] = b;
    tt[g] = f;
    ts[g] = e;
    ta[g] = 1;
    tl[g] = 1
};