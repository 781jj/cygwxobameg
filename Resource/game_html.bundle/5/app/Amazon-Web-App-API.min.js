var _AmazonPlatformUtils=new function(){var a;a:{a="";var b=/AmazonWebAppPlatform\/([\d\.]+)?;0/g;if("undefined"!==typeof window&&(a=window.navigator.userAgent,a=b.exec(a),null!=a)){a=a[1].split(".")[0];break a}a=-1}this.platformVersion=a;this.platformEnabled=0<this.platformVersion;this.isPlatformEnabled=function(){return this.platformEnabled};this.isCordovaEnabled=function(){return this.platformEnabled&&3<=this.platformVersion?!0:!1};this.cordovaReady=!1;this.cordovaCommandQueue=[];this.runWhenCordovaReady=
function(a){this.cordovaReady?a():this.cordovaCommandQueue.push(a)};this.setCordovaReady=function(){this.cordovaReady=!0}};_AmazonPlatformUtils.isCordovaEnabled()&&document.addEventListener("deviceready",function(){_AmazonPlatformUtils.setCordovaReady();for(var a=0;a<_AmazonPlatformUtils.cordovaCommandQueue.length;a++)_AmazonPlatformUtils.cordovaCommandQueue[a]()},!1);
try{(function(){var a,b,c={},h=[],i={};a=function(k){if(c[k]){if(k in i)throw"Cycle in require graph: "+(h.slice(i[k]).join("->")+"->"+k);}else throw"module "+k+" not found";if(c[k].factory)try{i[k]=h.length;h.push(k);var d=c[k],b=d.factory;d.exports={};delete d.factory;b(function(k){var f=k;"."===k.charAt(0)&&(f=d.id.slice(0,d.id.lastIndexOf("."))+"."+k.slice(2));return a(f)},d.exports,d);return d.exports}finally{delete i[k],h.pop()}return c[k].exports};b=function(a,d){if(c[a])throw"module "+a+" already defined";
c[a]={id:a,factory:d}};b.remove=function(a){delete c[a]};b.moduleMap=c;"object"===typeof module&&"function"===typeof a&&(module.exports.require=a,module.exports.define=b);b("cordova",function(a,d,c){function y(a,e){var g=document.createEvent("Events");g.initEvent(a,!1,!1);if(e)for(var f in e)e.hasOwnProperty(f)&&(g[f]=e[f]);return g}var f=a("cordova/channel"),d=a("cordova/platform"),j=document.addEventListener,v=document.removeEventListener,e=window.addEventListener,g=window.removeEventListener,l=
{},r={};document.addEventListener=function(a,e,g){var f=a.toLowerCase();"undefined"!=typeof l[f]?l[f].subscribe(e):j.call(document,a,e,g)};window.addEventListener=function(a,g,f){var j=a.toLowerCase();"undefined"!=typeof r[j]?r[j].subscribe(g):e.call(window,a,g,f)};document.removeEventListener=function(a,e,g){var f=a.toLowerCase();"undefined"!=typeof l[f]?l[f].unsubscribe(e):v.call(document,a,e,g)};window.removeEventListener=function(a,e,f){var j=a.toLowerCase();"undefined"!=typeof r[j]?r[j].unsubscribe(e):
g.call(window,a,e,f)};var h={define:b,require:a,version:"3.4.0",platformId:d.id,addWindowEventHandler:function(a){return r[a]=f.create(a)},addStickyDocumentEventHandler:function(a){return l[a]=f.createSticky(a)},addDocumentEventHandler:function(a){return l[a]=f.create(a)},removeWindowEventHandler:function(a){delete r[a]},removeDocumentEventHandler:function(a){delete l[a]},getOriginalHandlers:function(){return{document:{addEventListener:j,removeEventListener:v},window:{addEventListener:e,removeEventListener:g}}},
fireDocumentEvent:function(a,e,f){var g=y(a,e);"undefined"!=typeof l[a]?f?l[a].fire(g):setTimeout(function(){"deviceready"==a&&document.dispatchEvent(g);l[a].fire(g)},0):document.dispatchEvent(g)},fireWindowEvent:function(a,e){var g=y(a,e);"undefined"!=typeof r[a]?setTimeout(function(){r[a].fire(g)},0):window.dispatchEvent(g)},callbackId:Math.floor(2E9*Math.random()),callbacks:{},callbackStatus:{NO_RESULT:0,OK:1,CLASS_NOT_FOUND_EXCEPTION:2,ILLEGAL_ACCESS_EXCEPTION:3,INSTANTIATION_EXCEPTION:4,MALFORMED_URL_EXCEPTION:5,
IO_EXCEPTION:6,INVALID_ACTION:7,JSON_EXCEPTION:8,ERROR:9},callbackSuccess:function(a,e){try{h.callbackFromNative(a,!0,e.status,[e.message],e.keepCallback)}catch(g){console.log("Error in error callback: "+a+" = "+g)}},callbackError:function(a,e){try{h.callbackFromNative(a,!1,e.status,[e.message],e.keepCallback)}catch(g){console.log("Error in error callback: "+a+" = "+g)}},callbackFromNative:function(a,e,g,f,j){var l=h.callbacks[a];l&&(e&&g==h.callbackStatus.OK?l.success&&l.success.apply(null,f):e||
l.fail&&l.fail.apply(null,f),j||delete h.callbacks[a])},addConstructor:function(a){f.onCordovaReady.subscribe(function(){try{a()}catch(e){console.log("Failed to run constructor: "+e)}})}};c.exports=h});b("cordova/android/nativeapiprovider",function(a,d,c){var y=this._cordovaNative||a("cordova/android/promptbasednativeapi"),f=y;c.exports={get:function(){return f},setPreferPrompt:function(j){f=j?a("cordova/android/promptbasednativeapi"):y},set:function(a){f=a}}});b("cordova/android/promptbasednativeapi",
function(a,d,c){c.exports={exec:function(a,f,j,d){return prompt(d,"gap:"+JSON.stringify([a,f,j]))},setNativeToJsBridgeMode:function(a){prompt(a,"gap_bridge_mode:")},retrieveJsMessages:function(a){return prompt(+a,"gap_poll:")}}});b("cordova/argscheck",function(a,d,c){a("cordova/exec");var b=a("cordova/utils"),f=c.exports,j={A:"Array",D:"Date",N:"Number",S:"String",F:"Function",O:"Object"};f.checkArgs=function(a,e,g,l){if(f.enableChecks){for(var d=null,c,k=0;k<a.length;++k){var h=a.charAt(k),m=h.toUpperCase(),
i=g[k];if("*"!=h&&(c=b.typeName(i),!((null===i||void 0===i)&&h==m)&&c!=j[m])){d="Expected "+j[m];break}}if(d)throw d='Wrong type for parameter "'+/.*?\((.*?)\)/.exec(l||g.callee)[1].split(", ")[k]+'" of '+e+": "+(d+(", but got "+c+".")),"undefined"==typeof jasmine&&console.error(d),TypeError(d);}};f.getValue=function(a,e){return void 0===a?e:a};f.enableChecks=!0});b("cordova/base64",function(a,d){d.fromArrayBuffer=function(a){for(var a=new Uint8Array(a),d=a.byteLength,e="",g,l=f(),b=0;b<d-2;b+=3)g=
(a[b]<<16)+(a[b+1]<<8)+a[b+2],e+=l[g>>12],e+=l[g&4095];2==d-b?(g=(a[b]<<16)+(a[b+1]<<8),e+=l[g>>12],e+=c[(g&4095)>>6],e+="="):1==d-b&&(g=a[b]<<16,e+=l[g>>12],e+="==");return e};var c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b,f=function(){b=[];for(var a=0;64>a;a++)for(var d=0;64>d;d++)b[64*a+d]=c[a]+c[d];f=function(){return b};return b}});b("cordova/builder",function(a,d){function c(a,g,f){d.replaceHookForTesting(a,g);a[g]=f;a[g]!==f&&h.defineGetter(a,g,function(){return f})}
function b(a,g,f,d){d?h.defineGetter(a,g,function(){console.log(d);delete a[g];c(a,g,f);return f}):c(a,g,f)}function f(e,g,d,c){var i=function(g,m){try{var i=g.path?a(g.path):{};d?("undefined"===typeof e[m]?b(e,m,i,g.deprecated):"undefined"!==typeof g.path&&(c?j(e[m],i):b(e,m,i,g.deprecated)),i=e[m]):"undefined"==typeof e[m]?b(e,m,i,g.deprecated):i=e[m];g.children&&f(i,g.children,d,c)}catch(w){h.alert("Exception building Cordova JS globals: "+w+' for key "'+m+'"')}},m;for(m in g)g.hasOwnProperty(m)&&
i.apply(void 0,[g[m],m])}function j(a,g){for(var f in g)g.hasOwnProperty(f)&&(a.prototype&&a.prototype.constructor===a?c(a.prototype,f,g[f]):"object"===typeof g[f]&&"object"===typeof a[f]?j(a[f],g[f]):c(a,f,g[f]))}var h=a("cordova/utils");d.buildIntoButDoNotClobber=function(a,g){f(g,a,!1,!1)};d.buildIntoAndClobber=function(a,g){f(g,a,!0,!1)};d.buildIntoAndMerge=function(a,g){f(g,a,!0,!0)};d.recursiveMerge=j;d.assignOrWrapInDeprecateGetter=b;d.replaceHookForTesting=function(){}});b("cordova/channel",
function(a,d,c){function b(a){if("function"!=typeof a)throw"Function required as first argument!";}var f=a("cordova/utils"),j=1,h=function(a,f){this.type=a;this.handlers={};this.state=f?1:0;this.fireArgs=null;this.numHandlers=0;this.onHasSubscribersChange=null},e={join:function(a,f){for(var e=f.length,d=e,c=function(){--d||a()},b=0;b<e;b++){if(0===f[b].state)throw Error("Can only use join with sticky channels.");f[b].subscribe(c)}e||a()},create:function(a){return e[a]=new h(a,!1)},createSticky:function(a){return e[a]=
new h(a,!0)},deviceReadyChannelsArray:[],deviceReadyChannelsMap:{},waitForInitialization:function(a){if(a){var f=e[a]||this.createSticky(a);this.deviceReadyChannelsMap[a]=f;this.deviceReadyChannelsArray.push(f)}},initializationComplete:function(a){(a=this.deviceReadyChannelsMap[a])&&a.fire()}};h.prototype.subscribe=function(a,e){b(a);if(2==this.state)a.apply(e||this,this.fireArgs);else{var d=a,c=a.observer_guid;"object"==typeof e&&(d=f.close(e,a));c||(c=""+j++);d.observer_guid=c;a.observer_guid=c;
this.handlers[c]||(this.handlers[c]=d,this.numHandlers++,1==this.numHandlers&&this.onHasSubscribersChange&&this.onHasSubscribersChange())}};h.prototype.unsubscribe=function(a){b(a);a=a.observer_guid;this.handlers[a]&&(delete this.handlers[a],this.numHandlers--,0===this.numHandlers&&this.onHasSubscribersChange&&this.onHasSubscribersChange())};h.prototype.fire=function(a){var f=Array.prototype.slice.call(arguments);1==this.state&&(this.state=2,this.fireArgs=f);if(this.numHandlers){var e=[],d;for(d in this.handlers)e.push(this.handlers[d]);
for(d=0;d<e.length;++d)e[d].apply(this,f);2==this.state&&this.numHandlers&&(this.numHandlers=0,this.handlers={},this.onHasSubscribersChange&&this.onHasSubscribersChange())}};e.createSticky("onDOMContentLoaded");e.createSticky("onNativeReady");e.createSticky("onCordovaReady");e.createSticky("onPluginsReady");e.createSticky("onDeviceReady");e.create("onResume");e.create("onPause");e.createSticky("onDestroy");e.waitForInitialization("onCordovaReady");e.waitForInitialization("onDOMContentLoaded");c.exports=
e});b("cordova/exec",function(a,d,c){function b(a,f,e,d,c){void 0===u&&b.setJsToNativeBridgeMode(p.JS_OBJECT);for(var j=0;j<c.length;j++)"ArrayBuffer"==i.typeName(c[j])&&(c[j]=w.fromArrayBuffer(c[j]));var j=e+g.callbackId++,h=JSON.stringify(c);if(a||f)g.callbacks[j]={success:a,fail:f};u==p.LOCATION_CHANGE?window.location="http://cdv_exec/"+e+"#"+d+"#"+j+"#"+h:(j=l.get().exec(e,d,j,h),u==p.JS_OBJECT&&"@Null arguments."===j?(b.setJsToNativeBridgeMode(p.PROMPT),b(a,f,e,d,c),b.setJsToNativeBridgeMode(p.JS_OBJECT)):
b.processMessages(j))}function f(){j(!0)}function j(a){a=l.get().retrieveJsMessages(!!a);b.processMessages(a)}function h(){x&&(j(),setTimeout(h,50))}function e(a){try{var f=a.charAt(0);if("J"==f)eval(a.slice(1));else if("S"==f||"F"==f){var f="S"==f,e="1"==a.charAt(1),d=a.indexOf(" ",2),c=+a.slice(2,d),b=a.indexOf(" ",d+1),j=a.slice(d+1,b),h=a.charAt(b+1),i;if("s"==h)i=a.slice(b+2);else if("t"==h)i=!0;else if("f"==h)i=!1;else if("N"==h)i=null;else if("n"==h)i=+a.slice(b+2);else if("A"==h){for(var m=
a.slice(b+2),l=window.atob(m),k=new Uint8Array(l.length),d=0;d<l.length;d++)k[d]=l.charCodeAt(d);i=k.buffer}else i="S"==h?window.atob(a.slice(b+2)):JSON.parse(a.slice(b+1));g.callbackFromNative(j,f,c,[i],e)}else console.log("processMessage failed: invalid message:"+a)}catch(v){console.log("processMessage failed: Message: "+a),console.log("processMessage failed: Error: "+v),console.log("processMessage failed: Stack: "+v.stack)}}var g=a("cordova"),l=a("cordova/android/nativeapiprovider"),i=a("cordova/utils"),
w=a("cordova/base64"),p={PROMPT:0,JS_OBJECT:1,LOCATION_CHANGE:2},q={POLLING:0,LOAD_URL:1,ONLINE_EVENT:2,PRIVATE_API:3},u,t=q.ONLINE_EVENT,x=!1,n=[],a=function(a){g.fireWindowEvent(a.type)};window.addEventListener("online",f,!1);window.addEventListener("offline",f,!1);g.addWindowEventHandler("online");g.addWindowEventHandler("offline");document.addEventListener("online",a,!1);document.addEventListener("offline",a,!1);b.jsToNativeModes=p;b.nativeToJsModes=q;b.setJsToNativeBridgeMode=function(a){a==
p.JS_OBJECT&&!window._cordovaNative&&(console.log("Falling back on PROMPT mode since _cordovaNative is missing. Expected for Android 3.2 and lower only."),a=p.PROMPT);l.setPreferPrompt(a==p.PROMPT);u=a};b.setNativeToJsBridgeMode=function(a){a!=t&&(t==q.POLLING&&(x=!1),t=a,l.get().setNativeToJsBridgeMode(a),a==q.POLLING&&(x=!0,setTimeout(h,1)))};b.processMessages=function(a){if(a&&(n.push(a),!(1<n.length)))for(;n.length;){a=n[0];if("*"==a){n.shift();window.setTimeout(j,0);break}var f=a.indexOf(" "),
d=+a.slice(0,f),b=a.substr(f+1,d),a=a.slice(f+d+1);e(b);a?n[0]=a:n.shift()}};c.exports=b});b("cordova/exec/proxy",function(a,d,b){var c={};b.exports={add:function(a,d){console.log("adding proxy for "+a);return c[a]=d},remove:function(a){var d=c[a];delete c[a];c[a]=null;return d},get:function(a,d){return c[a]?c[a][d]:null}}});b("cordova/init",function(a){function d(a){for(var f=0;f<a.length;++f)2!=a[f].state&&console.log("Channel not fired: "+a[f].type)}var c=a("cordova/channel"),b=a("cordova"),f=
a("cordova/modulemapper"),j=a("cordova/platform"),h=a("cordova/pluginloader"),e=[c.onNativeReady,c.onPluginsReady];window.setTimeout(function(){2!=c.onDeviceReady.state&&(console.log("deviceready has not fired after 5 seconds."),d(e),d(c.deviceReadyChannelsArray))},5E3);if(window.navigator){var g=window,i=window.navigator,r=function(){};r.prototype=i;var w=new r;if(r.bind)for(var p in i)"function"==typeof i[p]&&(w[p]=i[p].bind(i));g.navigator=w}window.console||(window.console={log:function(){}});
window.console.warn||(window.console.warn=function(a){this.log("warn: "+a)});c.onPause=b.addDocumentEventHandler("pause");c.onResume=b.addDocumentEventHandler("resume");c.onDeviceReady=b.addStickyDocumentEventHandler("deviceready");"complete"==document.readyState||"interactive"==document.readyState?c.onDOMContentLoaded.fire():document.addEventListener("DOMContentLoaded",function(){c.onDOMContentLoaded.fire()},!1);window._nativeReady&&c.onNativeReady.fire();f.clobbers("cordova","cordova");f.clobbers("cordova/exec",
"cordova.exec");f.clobbers("cordova/exec","Cordova.exec");j.bootstrap&&j.bootstrap();h.load(function(){c.onPluginsReady.fire()});c.join(function(){f.mapModules(window);j.initialize&&j.initialize();c.onCordovaReady.fire();c.join(function(){a("cordova").fireDocumentEvent("deviceready")},c.deviceReadyChannelsArray)},e)});b("cordova/modulemapper",function(a,c){function h(a,c,d,b){if(!(c in f))throw Error("Module "+c+" does not exist.");j.push(a,c,d);b&&(v[d]=b)}var i=a("cordova/builder"),f=b.moduleMap,
j,v;c.reset=function(){j=[];v={}};c.clobbers=function(a,f,c){h("c",a,f,c)};c.merges=function(a,f,c){h("m",a,f,c)};c.defaults=function(a,f,c){h("d",a,f,c)};c.runs=function(a){h("r",a,null)};c.mapModules=function(f){var c={};f.CDV_origSymbols=c;for(var d=0,b=j.length;d<b;d+=3){var h=j[d],m=a(j[d+1]);if("r"!=h){var q=j[d+2],u=q.lastIndexOf("."),t=q.substr(0,u),u=q.substr(u+1),x=q in v?"Access made to deprecated symbol: "+q+". "+x:null;var n=f;if(t)for(var t=t.split("."),A=0,z=void 0;z=t[A];++A)n=n[z]=
n[z]||{};t=n;n=t[u];if("m"==h&&n)i.recursiveMerge(n,m);else if("d"==h&&!n||"d"!=h)q in c||(c[q]=n),i.assignOrWrapInDeprecateGetter(t,u,m,x)}}};c.getOriginalSymbol=function(a,f){var c=a.CDV_origSymbols;if(c&&f in c)return c[f];for(var c=f.split("."),d=a,b=0;b<c.length;++b)d=d&&d[c[b]];return d};c.reset()});b("cordova/platform",function(a,c,b){b.exports={id:"amazon-fireos",bootstrap:function(){var c=a("cordova/channel"),f=a("cordova"),d=a("cordova/exec"),b=a("cordova/modulemapper");if(_AmazonPlatformUtils&&
_AmazonPlatformUtils.isCordovaEnabled())d(null,null,"PluginManager","startup",[]);else if(console&&console.log){console.log("Platform does not support cordova. Aborting cordova bootstrap.");return}c.onNativeReady.fire();b.clobbers("cordova/plugin/android/app","navigator.app");f.addDocumentEventHandler("backbutton").onHasSubscribersChange=function(){d(null,null,"App","overrideBackbutton",[1==this.numHandlers])};f.addDocumentEventHandler("menubutton");f.addDocumentEventHandler("searchbutton");c.onCordovaReady.subscribe(function(){d(null,
null,"App","show",[])})}}});b("cordova/plugin/android/app",function(a,c,b){var h=a("cordova/exec");b.exports={clearCache:function(){h(null,null,"App","clearCache",[])},loadUrl:function(a,c){h(null,null,"App","loadUrl",[a,c])},cancelLoadUrl:function(){h(null,null,"App","cancelLoadUrl",[])},clearHistory:function(){h(null,null,"App","clearHistory",[])},backHistory:function(){h(null,null,"App","backHistory",[])},overrideBackbutton:function(a){h(null,null,"App","overrideBackbutton",[a])},exitApp:function(){return h(null,
null,"App","exitApp",[])}}});b("cordova/pluginloader",function(a,c){function b(a,c,d){var e=document.createElement("script");e.onload=c;e.onerror=d||c;e.src=a;document.head.appendChild(e)}var h=a("cordova/modulemapper");a("cordova/urlutil");c.load=function(c){var d;d=null;for(var i=document.getElementsByTagName("script"),e=i.length-1;-1<e;e--){var g=i[e].src;if(g.indexOf("cordova.js")==g.length-10){d=g.substring(0,g.length-10);break}}null===d&&(console.log("Could not find cordova.js script tag. Plugin loading may fail."),
d="");if(_AmazonPlatformUtils&&_AmazonPlatformUtils.isCordovaEnabled()){var l=d;b(l+"cordova_plugins.js",function(){try{var d=a("cordova/plugin_list"),e=function(){if(!--g){for(var a=0,b;b=d[a];a++)if(b)try{if(b.clobbers&&b.clobbers.length)for(var e=0;e<b.clobbers.length;e++)h.clobbers(b.id,b.clobbers[e]);if(b.merges&&b.merges.length)for(e=0;e<b.merges.length;e++)h.merges(b.id,b.merges[e]);b.runs&&((!b.clobbers||!b.clobbers.length)&&(!b.merges||!b.merges.length))&&h.runs(b.id)}catch(i){}c()}},g=d.length;
if(g)for(var i=0;i<d.length;i++)b(l+d[i].file,e);else c()}catch(j){c()}},c)}}});b("cordova/urlutil",function(a,c){c.makeAbsolute=function(a){var c=document.createElement("a");c.href=a;return c.href}});b("cordova/utils",function(a,c){function b(a){for(var c="",d=0;d<a;d++){var e=parseInt(256*Math.random(),10).toString(16);1==e.length&&(e="0"+e);c+=e}return c}c.defineGetterSetter=function(a,c,b,d){Object.defineProperty?(b={get:b,configurable:!0},d&&(b.set=d),Object.defineProperty(a,c,b)):(a.__defineGetter__(c,
b),d&&a.__defineSetter__(c,d))};c.defineGetter=c.defineGetterSetter;c.arrayIndexOf=function(a,c){if(a.indexOf)return a.indexOf(c);for(var b=a.length,d=0;d<b;++d)if(a[d]==c)return d;return-1};c.arrayRemove=function(a,b){var h=c.arrayIndexOf(a,b);-1!=h&&a.splice(h,1);return-1!=h};c.typeName=function(a){return Object.prototype.toString.call(a).slice(8,-1)};c.isArray=function(a){return"Array"==c.typeName(a)};c.isDate=function(a){return"Date"==c.typeName(a)};c.clone=function(a){if(!a||"function"==typeof a||
c.isDate(a)||"object"!=typeof a)return a;var b,h;if(c.isArray(a)){b=[];for(h=0;h<a.length;++h)b.push(c.clone(a[h]));return b}b={};for(h in a)if(!(h in b)||b[h]!=a[h])b[h]=c.clone(a[h]);return b};c.close=function(a,c,b){return"undefined"==typeof b?function(){return c.apply(a,arguments)}:function(){return c.apply(a,b)}};c.createUUID=function(){return b(4)+"-"+b(2)+"-"+b(2)+"-"+b(2)+"-"+b(6)};var h=function(){};c.extend=function(a,c){h.prototype=c.prototype;a.prototype=new h;a.__super__=c.prototype;
a.prototype.constructor=a};c.alert=function(a){window.alert?window.alert(a):console&&console.log&&console.log(a)}});window.cordova=a("cordova");a("cordova/init")})()}catch(ex){console&&console.log&&console.log("cordova initialization failed.")}function _AmazonEnum(a){this._init(a)}_AmazonEnum.prototype={values:null,_init:function(a){for(var b=0;b<a.length;b++)this[a[b]]=a[b];this.values=a}};
var amznBridge=function(a,b,c){function h(){var a="";JSON&&(a=k+JSON.stringify(i));return a}var i={bridge:a,args:c||[]},k="##AmazonWebAppPlatform/0-";b&&(i.method=b);i.run=function(){var a;window&&(a=window.prompt(h()));return a};return i};function _AmazonCallbackObserver(a){this._init(a)}
_AmazonCallbackObserver.prototype={CALLBACK_DELAY_MS:2,_handlers:null,_enums:null,_init:function(a){this._handlers={};this._enums=[];for(var a=a||[],b,c=0;c<a.length;c++)b=a[c],this._handlers[b]=null},clearHandlers:function(){var a=null;for(a in this._handlers)this._handlers[a]=null},registerHandlers:function(a){var a=a||{},b,c=null;for(c in this._handlers)(b=a[c])&&(this._handlers[c]=b)},isRegistered:function(){for(var a in this._handlers)if(null!=this._handlers[a])return!0;return!1},runCallback:function(a,
b){if(a&&this._handlers[a]){var c=this;setTimeout(function(){c._handlers[a](b)},this.CALLBACK_DELAY_MS)}}};var _AmazonCache=function(){};_AmazonCache.PromptImpl=function(a){this._init(a)};
_AmazonCache.PromptImpl.prototype={_amazonClient:null,_init:function(a){this._amazonClient=a},clearAppCache:function(){this._amazonClient.Cache.clearAppCache()},clearFormData:function(){this._amazonClient.Cache.clearFormData()},clearHistory:function(){this._amazonClient.Cache.clearHistory()},clearAllCookies:function(){this._amazonClient.Cache.clearAllCookies()},clearExpiredCookies:function(){this._amazonClient.Cache.clearExpiredCookies()},clearSessionCookies:function(){this._amazonClient.Cache.clearSessionCookies()}};
_AmazonCache.CordovaImpl=function(){};
_AmazonCache.CordovaImpl.prototype={clearAppCache:function(){_AmazonPlatformUtils.runWhenCordovaReady(function(){Cordova.exec(null,null,"AmazonCache","clearAppCache",[])})},clearFormData:function(){_AmazonPlatformUtils.runWhenCordovaReady(function(){Cordova.exec(null,null,"AmazonCache","clearFormData",[])})},clearHistory:function(){_AmazonPlatformUtils.runWhenCordovaReady(function(){Cordova.exec(null,null,"AmazonCache","clearHistory",[])})},clearAllCookies:function(){_AmazonPlatformUtils.runWhenCordovaReady(function(){Cordova.exec(null,null,
"AmazonCache","clearAllCookies",[])})},clearExpiredCookies:function(){_AmazonPlatformUtils.runWhenCordovaReady(function(){Cordova.exec(null,null,"AmazonCache","clearExpiredCookies",[])})},clearSessionCookies:function(){_AmazonPlatformUtils.runWhenCordovaReady(function(){Cordova.exec(null,null,"AmazonCache","clearSessionCookies",[])})}};var _AmazonInAppPurchasing=function(){};
_AmazonInAppPurchasing.prototype={ItemType:new _AmazonEnum(["CONSUMABLE","ENTITLEMENT","SUBSCRIPTIONS"]),PurchaseStatus:new _AmazonEnum(["INVALID_INPUT","SUCCESSFUL","FAILED","INVALID_SKU","ALREADY_ENTITLED"]),ItemDataStatus:new _AmazonEnum(["INVALID_INPUT","SUCCESSFUL","FAILED","SUCCESSFUL_WITH_UNAVAILABLE_SKU"]),PurchaseUpdatesStatus:new _AmazonEnum(["INVALID_INPUT","SUCCESSFUL","FAILED"]),UserIdStatus:new _AmazonEnum(["SUCCESSFUL","FAILED"]),Offset:{BEGINNING:"BEGINNING"},_generateJSRequestId:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,
function(a){var b=16*Math.random()|0;return("x"==a?b:b&3|8).toString(16)})},_validatePurchaseItem:function(a){if("string"===typeof a)return!0;console.log("purchaseItem takes a string sku");return!1},_validateGetItemData:function(a){if(a instanceof Array&&0<a.length)return!0;console.log("getItemData takes an array of length > 0");return!1},_validateGetPurchaseUpdates:function(a){if(a==this.Offset.BEGINNING||"string"==typeof a)return!0;console.log("getPurchaseUpdates takes a string offset or Offset.BEGINNING");
return!1}};_AmazonInAppPurchasing.PromptImpl=function(a){this._init(a)};
(function(){_AmazonInAppPurchasing.PromptImpl.prototype=new _AmazonInAppPurchasing;var a={PurchasingObserver:new _AmazonCallbackObserver(["onSdkAvailable","onGetUserIdResponse","onItemDataResponse","onPurchaseResponse","onPurchaseUpdatesResponse"]),_amazonClient:null,_init:function(a){this._amazonClient=a},_runCallback:function(a,b){this.PurchasingObserver.runCallback(a,b)},registerObserver:function(a){this.PurchasingObserver.registerHandlers(a);this._amazonClient.IAP.registerObserver()},_pingObserver:function(){this.PurchasingObserver.isRegistered()?
this._amazonClient.IAP.ackObserver():console.log("got a callback for in-app-purchasing but observer not registered, queueing")},getUserId:function(){var a=this._generateJSRequestId();this._amazonClient.IAP.getUserId(a);return a},purchaseItem:function(a){var b=this._generateJSRequestId();if(!this._validatePurchaseItem(a))return this._runCallback("purchaseItem",{jsReqId:b,purchaseRequestStatus:"INVALID_INPUT"}),b;this._amazonClient.IAP.purchaseItem(b,a);return b},getItemData:function(a){var b=this._generateJSRequestId();
if(!this._validateGetItemData(a))return this._runCallback("onItemDataResponse",{jsReqId:b,itemDataRequestStatus:"INVALID_INPUT"}),b;this._amazonClient.IAP.getItemData(b,a.join(","));return b},getPurchaseUpdates:function(a){var b=this._generateJSRequestId();if(!this._validateGetPurchaseUpdates(a))return this._runCallback("onPurchaseUpdatesResponse",{jsReqId:b,purchaseUpdatesRequestStatus:"INVALID_INPUT"}),b;this._amazonClient.IAP.getPurchaseUpdates(b,a);return b}},b;for(b in a)_AmazonInAppPurchasing.PromptImpl.prototype[b]=
a[b]})();_AmazonInAppPurchasing.CordovaImpl=function(){};
(function(){_AmazonInAppPurchasing.CordovaImpl.prototype=new _AmazonInAppPurchasing;var a={registerObserver:function(a){this.oObserver=a;var b=this,i=function(a){b._runCallback("onSdkAvailable",a);b.drainItem()},k=this._getErrorCallback(this);_AmazonPlatformUtils.runWhenCordovaReady(function(){Cordova.exec(i,k,"AmazonIAP","registerObserver",[])})},_getErrorCallback:function(a){return function(b){a._runCallback("onException",b)}},purchaseItem:function(a){var b=this._generateJSRequestId();if(!this._validatePurchaseItem(a))return this._runCallback("onPurchaseResponse",
{jsReqId:b,purchaseRequestStatus:"INVALID_INPUT"}),b;var i=this,k=function(){i.drainItem()},d=this._getErrorCallback(this);_AmazonPlatformUtils.runWhenCordovaReady(function(){Cordova.exec(k,d,"AmazonIAP","purchaseItem",[b,a])});return b},drainItem:function(){var a=this,b=this._getErrorCallback(this);Cordova.exec(function(b){b&&(b.callbackName&&b.callbackResponse)&&a._runCallback(b.callbackName,b.callbackResponse);b&&(b.callbackPendingItems&&0<b.callbackPendingItems)&&a.drainItem()},b,"AmazonIAP",
"drainItem",[])},getUserId:function(){var a=this._generateJSRequestId(),b=this,i=function(a){b._runCallback("onGetUserIdResponse",a)},k=this._getErrorCallback(this);_AmazonPlatformUtils.runWhenCordovaReady(function(){Cordova.exec(i,k,"AmazonIAP","getUserId",[a])});return a},getItemData:function(a){var b=this._generateJSRequestId();if(!this._validateGetItemData(a))return this._runCallback("onItemDataResponse",{jsReqId:b,itemDataRequestStatus:"INVALID_INPUT"}),b;var i=this,k=function(a){i._runCallback("onItemDataResponse",
a)},d=this._getErrorCallback(this);_AmazonPlatformUtils.runWhenCordovaReady(function(){Cordova.exec(k,d,"AmazonIAP","getItemData",[b,a.join(",")])});return b},getPurchaseUpdates:function(a){var b=this._generateJSRequestId();if(!this._validateGetPurchaseUpdates(a))return this._runCallback("onPurchaseUpdatesResponse",{jsReqId:b,purchaseUpdatesRequestStatus:"INVALID_INPUT"}),b;var i=this,k=function(a){i._runCallback("onPurchaseUpdatesResponse",a)},d=this._getErrorCallback(this);_AmazonPlatformUtils.runWhenCordovaReady(function(){Cordova.exec(k,
d,"AmazonIAP","getPurchaseUpdates",[b,a])});return b},_runDrainableCallback:function(a,b){this._runCallback(a,b)},_runCallback:function(a,b){var i=this.oObserver;"undefined"!=typeof i&&i[a]?i[a].call(i,b):"onException"===a&&setTimeout(function(){amzn_wa.throwException(b.errorMessage)},0)},isRegistered:function(){var a=!1;this.oObserver&&(a=!0);return a},getDrainableCallback:function(a){return this.oObserver[a]}},b;for(b in a)_AmazonInAppPurchasing.CordovaImpl.prototype[b]=a[b]})();
function _AmazonAds(){}_AmazonAds.PromptImpl=function(a){this._init(a)};
_AmazonAds.PromptImpl.prototype={AdObserver:new _AmazonCallbackObserver(["onRegisterObserver"]),_amazonClient:null,_initialized:!1,_init:function(a){this._amazonClient=a},_runCallback:function(a,b){this.AdObserver.runCallback(a,b)},_pingObserver:function(){this.AdObserver.isRegistered()?this._amazonClient.Ads.ackObserver():console.log("got a callback for mobile-ads but observer not registered, queueing")},initialize:function(){this._initialized=!0;window.amzn&&(window.amzn.mobileAds&&window.amzn.mobileAds.onRegisterObserver)&&
(this.AdObserver.registerHandlers({onRegisterObserver:window.amzn.mobileAds.onRegisterObserver}),this._amazonClient.Ads.registerObserver())},get initialized(){return this._initialized}};_AmazonAds.CordovaImpl=function(){return{}}();function _AmazonJavascriptClient(a,b){this._init(a,b)}
_AmazonJavascriptClient.prototype={_IAP:null,_Cache:null,_Ads:null,_sdkPlatformMode:null,_amazonServices:null,_webAppApiTester:null,_init:function(a,b){this._amazonServices=a;void 0!==b&&(this._webAppApiTester=b);this._determineBindings()},get webAppApiTester(){null==this._webAppApiTester&&this._determineBindings();return this._webAppApiTester},get sdkPlatformMode(){null==this._sdkPlatformMode&&this._determineBindings();return this._sdkPlatformMode},get IAP(){null==this._IAP&&this._determineBindings();
return this._IAP},get Cache(){null==this._Cache&&this._determineBindings();return this._Cache},get Ads(){null==this._Ads&&this._determineBindings();return this._Ads},_determineBindings:function(){if(_AmazonPlatformUtils.isPlatformEnabled()){var a;a={};amznBridge("IAP").run()?(a.registerObserver=function(){amznBridge("IAP","registerObserver").run()},a.ackObserver=function(){amznBridge("IAP","ackObserver").run()},a.getUserId=function(a){amznBridge("IAP","getUserId",[a]).run()},a.purchaseItem=function(a,
c){amznBridge("IAP","purchaseItem",[a,c]).run()},a.getItemData=function(a,c){amznBridge("IAP","getItemData",[a,c]).run()},a.getPurchaseUpdates=function(a,c){amznBridge("IAP","getPurchaseUpdates",[a,c]).run()}):a=null;this._IAP=a;a={};amznBridge("Cache").run()?(a.clearAppCache=function(){amznBridge("Cache","clearAppCache").run()},a.clearFormData=function(){amznBridge("Cache","clearFormData").run()},a.clearHistory=function(){amznBridge("Cache","clearHistory").run()},a.clearAllCookies=function(){amznBridge("Cache",
"clearAllCookies").run()},a.clearExpiredCookies=function(){amznBridge("Cache","clearExpiredCookies").run()},a.clearSessionCookies=function(){amznBridge("Cache","clearSessionCookies").run()}):a=null;this._Cache=a;a={};amznBridge("Ads").run()?(s=document.createElement("script"),s.setAttribute("src","https://rialto-web.s3.amazonaws.com/v0/latest/amznMobileAdSDK-js-1.0.x.js"),document.documentElement.appendChild(s),a.registerObserver=function(){amznBridge("Ads","registerObserver").run()},a.ackObserver=
function(){amznBridge("Ads","ackObserver").run()}):a=null;this._Ads=a}else"undefined"!=typeof AmazonWebAppIAP&&(this._IAP=AmazonWebAppIAP),"undefined"!=typeof AmazonWebAppCache&&(this._Cache=AmazonWebAppCache);"undefined"!=typeof AmazonWebAppGameCircle&&this._addGameCircleBindings();null!=this._IAP||null!=this._GameCircle||null!=this._Cache||null!=this._Ads?this._sdkPlatformMode=this._amazonServices.SdkPlatformMode.ANDROID:(this._sdkPlatformMode=this._amazonServices.SdkPlatformMode.JAVASCRIPT,this._webAppApiTester&&
(this._webAppApiTester.initialize(this._amazonServices),this._IAP=this._webAppApiTester.IAP,this._GameCircle=this._webAppApiTester.GameCircle,this._Cache=this._webAppApiTester.Cache))},_addGameCircleBindings:function(){}};function _AmazonServices(){this._init()}
_AmazonServices.prototype={SdkPlatformMode:new _AmazonEnum(["ANDROID","JAVASCRIPT","JAVASCRIPT_LIMITED"]),_amazonClient:null,_IAP:null,_cache:null,_webAppApiTester:null,_ads:null,_sdkPlatformMode:null,get IAP(){null==this._IAP&&(_AmazonPlatformUtils.isCordovaEnabled()?this._IAP=new _AmazonInAppPurchasing.CordovaImpl:null!=this._amazonClient.IAP&&(this._IAP=new _AmazonInAppPurchasing.PromptImpl(this._amazonClient)));return this._IAP},get Cache(){null==this._cache&&(_AmazonPlatformUtils.isCordovaEnabled()?
this._cache=new _AmazonCache.CordovaImpl:null!=this._amazonClient.Cache&&(this._cache=new _AmazonCache.PromptImpl(this._amazonClient)));return this._cache},get Ads(){null==this._ads&&(_AmazonPlatformUtils.isCordovaEnabled()?this._ads=new _AmazonAds.CordovaImpl:null!=this._amazonClient.Ads&&(this._ads=new _AmazonAds.PromptImpl(this._amazonClient)));return this._ads},get isAppstoreApp(){return this.sdkPlatformMode==this.SdkPlatformMode.ANDROID},get sdkPlatformMode(){return this._sdkPlatformMode},_init:function(){_AmazonPlatformUtils.isCordovaEnabled()?
this._sdkPlatformMode=this.SdkPlatformMode.ANDROID:(this._amazonClient=new _AmazonJavascriptClient(this),this._sdkPlatformMode=this._amazonClient.sdkPlatformMode)},enableApiTester:function(a){this.sdkPlatformMode==this.SdkPlatformMode.JAVASCRIPT?(console.log("enabling the amazon web app api tester"),this._webAppApiTester=a,this._amazonClient=new _AmazonJavascriptClient(this,this._webAppApiTester)):console.log("the amazon web app api tester does not work in android")}};
var amzn_wa=new _AmazonServices,amzn_wa=function(a){function b(a){this.name=h;this.message=a}var c=[],h="WebAppBridgeError";a.addErrorCallback=function(a){c.push(a)};b.prototype=Error();a.throwException=function(a){try{a=JSON.parse(a),a.hasOwnProperty("message")&&(a=a.message)}catch(h){console.log(h)}c.forEach(function(b){b(a)});throw(new b(a)).toString();};return a}(amzn_wa);
